
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>An Introduction to the Scientific Python Ecosystem &#8212; Stat 159/259 - Reproducible and Collaborative Data Science 1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The trapezoidal rule: vectorization and perormance" href="trapezoid.html" />
    <link rel="prev" title="LIGO, the 2017 Nobel prize in physics, and wrapping up Makefiles" href="../08-ligo-make.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="An-Introduction-to-the-Scientific-Python-Ecosystem">
<h1>An Introduction to the Scientific Python Ecosystem<a class="headerlink" href="#An-Introduction-to-the-Scientific-Python-Ecosystem" title="Permalink to this headline">¶</a></h1>
<p>While the Python language is an excellent tool for general-purpose
programming, with a highly readable syntax, rich and powerful data types
(strings, lists, sets, dictionaries, arbitrary length integers, etc) and
a very comprehensive standard library, it was not designed specifically
for mathematical and scientific computing. Neither the language nor its
standard library have facilities for the efficient representation of
multidimensional datasets, tools for linear algebra and general matrix
manipulations (an essential building block of virtually all technical
computing), nor any data visualization facilities.</p>
<p>In particular, Python lists are very flexible containers that can be
nested arbitrarily deep and which can hold any Python object in them,
but they are poorly suited to represent efficiently common mathematical
constructs like vectors and matrices. In contrast, much of our modern
heritage of scientific computing has been built on top of libraries
written in the Fortran language, which has native support for vectors
and matrices as well as a library of mathematical functions that can
efficiently operate on entire arrays at once.</p>
<p><strong>Resources</strong></p>
<p>For Numpy, Matplotlib, SciPy and related tools, these two resources will
be particularly useful:</p>
<ul class="simple">
<li><a class="reference external" href="http://proquest.safaribooksonline.com/9781491922927">Elegant
SciPy</a>, a
collection of example-oriented lessons on how to best use the
scientific Python toolkit, by the creator of Scikit-Image and BIDS
researcher <a class="reference external" href="https://bids.berkeley.edu/people/st%C3%A9fan-van-der-walt">Stéfan van der
Walt</a>.
In addition to the previous O’Reilly reader, the <a class="reference external" href="https://github.com/elegant-scipy/elegant-scipy">full
book</a> as well as
all the <a class="reference external" href="https://github.com/elegant-scipy/notebooks">notebooks</a>
are available.</li>
<li>Stéfan has also written a <a class="reference external" href="https://github.com/stefanv/teaching/blob/master/2016_aspp_reading_numpy/numpy_advanced.ipynb">very useful
notebook</a>
about semi-advanced aspects of Numpy, with a <a class="reference external" href="https://github.com/stefanv/teaching/blob/master/2016_aspp_reading_numpy/numpy_advanced_problems.ipynb">companion problem
set</a>.</li>
<li>Nicolas Rougier has a great <a class="reference external" href="http://www.labri.fr/perso/nrougier/teaching/numpy/numpy.html">introductory Numpy
tutorial</a>,
an <a class="reference external" href="http://www.labri.fr/perso/nrougier/from-python-to-numpy">advanced Numpy
book</a> and
a collection of (often subtle!) <a class="reference external" href="http://www.labri.fr/perso/nrougier/teaching/numpy.100/index.html">Numpy
exercises</a>.</li>
<li>The <a class="reference external" href="http://www.scipy-lectures.org">online SciPy Lectures</a>, and
specifically for this topic, the <a class="reference external" href="http://www.scipy-lectures.org/intro/numpy/index.html">NumPy
chapter</a>.</li>
<li>The <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/index.html">official Numpy
documentation</a>.</li>
</ul>
<div class="section" id="Scientific-Python:-a-collaboration-of-projects-built-by-scientists">
<h2>Scientific Python: a collaboration of projects built by scientists<a class="headerlink" href="#Scientific-Python:-a-collaboration-of-projects-built-by-scientists" title="Permalink to this headline">¶</a></h2>
<p>The scientific community has developed a set of related Python libraries
that provide powerful array facilities, linear algebra, numerical
algorithms, data visualization and more. In this appendix, we will
briefly outline the tools most frequently used for this purpose, that
make “Scientific Python” something far more powerful than the Python
language alone.</p>
<p>For reasons of space, we can only briefly describe the central Numpy
library, but below we provide links to the websites of each project
where you can read their full documentation in more detail.</p>
<p>First, let’s look at an overview of the basic tools that most scientists
use in daily research with Python. The core of this ecosystem is
composed of:</p>
<ul class="simple">
<li><strong>Numpy:</strong> the basic library that most others depend on, it provides
a powerful array type that can represent multidimensional datasets of
many different kinds and that supports arithmetic operations. Numpy
also provides a library of common mathematical functions, basic
linear algebra, random number generation and Fast Fourier Transforms.
Numpy can be found at <a class="reference external" href="http://numpy.scipy.org">numpy.scipy.org</a></li>
<li><strong>Scipy:</strong> a large collection of numerical algorithms that operate on
numpy arrays and provide facilities for many common tasks in
scientific computing, including dense and sparse linear algebra,
optimization, special functions, statistics, n-dimensional image
processing, signal processing and more. Scipy can be found at
<a class="reference external" href="http://scipy.org">scipy.org</a>.</li>
<li><strong>Matplotlib:</strong> a data visualization library with a strong focus on
producing high-quality output, it supports a variety of common
scientific plot types in two and three dimensions, with precise
control over the final output for publication-quality results.
Matplotlib can also be controlled interactively allowing graphical
manipulation of your data (zooming, panning). It can be found at
<a class="reference external" href="http://matplotlib.org">matplotlib.org</a>.</li>
<li><strong>IPython:</strong> while not restricted to scientific uses, IPython is the
interactive environment in which many scientists spend their time
when working with the Python language. IPython provides a powerful
Python shell that integrates tightly with Matplotlib and with easy
access to the files and operating system, as well as components for
high-level parallel computing. It can execute either in a terminal or
in a graphical Qt console. IPython also has a web-based notebook
interface that can combine code with text, mathematical expressions,
figures and multimedia. It can be found at
<a class="reference external" href="http://ipython.org">ipython.org</a>.</li>
</ul>
<p>While each of these tools can be installed separately, in our experience
the most convenient way of accessing them today (especially on Windows
and Mac computers) is to install the <a class="reference external" href="http://www.enthought.com/products/epd_free.php">Free Edition of the Enthought’s
Canopy
Distribution</a>or
<a class="reference external" href="http://continuum.io/downloads">Continuum Analytics’ Anaconda</a>, both
of which contain all the above. Other free alternatives on Windows (but
not on Macs) are <a class="reference external" href="http://code.google.com/p/pythonxy">Python(x,y)</a> and
<a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs">Christoph Gohlke’s packages
page</a>.</p>
<p>The four ‘core’ libraries above are in practice complemented by a number
of other tools for more specialized work. We will briefly list here the
ones that we think are the most commonly needed:</p>
<ul class="simple">
<li><strong>Sympy:</strong> a symbolic manipulation tool that turns a Python session
into a computer algebra system. It integrates with the IPython
notebook, rendering results in properly typeset mathematical
notation. <a class="reference external" href="http://sympy.org">sympy.org</a>.</li>
<li><strong>Mayavi:</strong> sophisticated 3d data visualization;
<a class="reference external" href="http://code.enthought.com/projects/mayavi">code.enthought.com/projects/mayavi</a>.</li>
<li><strong>Cython:</strong> a bridge language between Python and C, useful both to
optimize performance bottlenecks in Python and to access C libraries
directly; <a class="reference external" href="http://cython.org">cython.org</a>.</li>
<li><strong>Pandas:</strong> high-performance data structures and data analysis tools,
with powerful data alignment and structural manipulation
capabilities; <a class="reference external" href="http://pandas.pydata.org">pandas.pydata.org</a>.</li>
<li><strong>Statsmodels:</strong> statistical data exploration and model estimation;
<a class="reference external" href="http://statsmodels.sourceforge.net">statsmodels.sourceforge.net</a>.</li>
<li><strong>Scikit-learn:</strong> general purpose machine learning algorithms with a
common interface; <a class="reference external" href="http://scikit-learn.org">scikit-learn.org</a>.</li>
<li><strong>Scikits-image:</strong> image processing toolbox;
<a class="reference external" href="http://scikits-image.org">scikits-image.org</a>.</li>
<li><strong>NetworkX:</strong> analysis of complex networks (in the graph theoretical
sense); <a class="reference external" href="http://networkx.lanl.gov">networkx.lanl.gov</a>.</li>
<li><strong>PyTables:</strong> management of hierarchical datasets using the
industry-standard HDF5 format;
<a class="reference external" href="http://www.pytables.org">www.pytables.org</a>.</li>
</ul>
<p>Beyond these, for any specific problem you should look on the internet
first, before starting to write code from scratch. There’s a good chance
that someone, somewhere, has written an open source library that you can
use for part or all of your problem.</p>
</div>
</div>
<div class="section" id="Motivation:-the-trapezoidal-rule">
<h1>Motivation: the trapezoidal rule<a class="headerlink" href="#Motivation:-the-trapezoidal-rule" title="Permalink to this headline">¶</a></h1>
<p>In subsequent sections we’ll provide a basic introduction to the nuts
and bolts of the basic scientific python tools; but we’ll first motivate
it with a brief example that illustrates what you can do in a few lines
with these tools. For this, we will use the simple problem of
approximating a definite integral with the trapezoid rule:</p>
<div class="math">
\[\int_{a}^{b} f(x)\, dx \approx \frac{1}{2} \sum_{k=1}^{N} \left( x_{k} - x_{k-1} \right) \left( f(x_{k}) + f(x_{k-1}) \right).\]</div>
<p>Our task will be to compute this formula for a function such as:</p>
<div class="math">
\[f(x) = (x-3)(x-5)(x-7)+85\]</div>
<p>integrated between <span class="math">\(a=1\)</span> and <span class="math">\(b=9\)</span>.</p>
<p>First, we define the function and sample it evenly between 0 and 10 at
200 points:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>def f(x):
    return (x-3)*(x-5)*(x-7)+85

import numpy as np
x = np.linspace(0, 10, 200)
y = f(x)
</pre></div>
</div>
</div>
<p>We select <span class="math">\(a\)</span> and <span class="math">\(b\)</span>, our integration limits, and we take
only a few points in that region to illustrate the error behavior of the
trapezoid approximation:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>a, b = 1, 9
sampling = 10
xint = x[np.logical_and(x&gt;=a, x&lt;=b)][::sampling]
yint = y[np.logical_and(x&gt;=a, x&lt;=b)][::sampling]
# Fix end points of the interval
xint[0], xint[-1] = a, b
yint[0], yint[-1] = f(a), f(b)
</pre></div>
</div>
</div>
<p>Let’s plot both the function and the area below it in the trapezoid
approximation:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>%matplotlib inline
import matplotlib.pyplot as plt
plt.style.use(&#39;seaborn-dark&#39;)

plt.plot(x, y, lw=2)
plt.plot([a, a], [0, f(a)], color=&#39;black&#39;)
plt.plot([b, b], [0, f(b)], color=&#39;black&#39;)
plt.axis([a-1, b+1, 0, 140])
plt.fill_between(xint, 0, yint, facecolor=&#39;gray&#39;, edgecolor=&#39;red&#39;, alpha=.4)
plt.text(0.5 * (a + b), 30,r&quot;$\int_a^b f(x)dx$&quot;, horizontalalignment=&#39;center&#39;, fontsize=20);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_10_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_10_0.png" />
</div>
</div>
<p>Compute the integral both at high accuracy and with the trapezoid
approximation</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>from scipy.integrate import quad, trapz

integral, error = quad(f, a, b)
trap_integral = trapz(yint, xint)
print(&quot;The integral is: %g +/- %.1e&quot; % (integral, error))
print(&quot;The trapezoid approximation with&quot;, len(xint), &quot;points is:&quot;, trap_integral)
print(&quot;The absolute error is:&quot;, abs(integral - trap_integral))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The integral is: 680 +/- 7.5e-12
The trapezoid approximation with 16 points is: 681.124797875
The absolute error is: 1.1247978745
</pre></div></div>
</div>
<p>This simple example showed us how, combining the numpy, scipy and
matplotlib libraries we can provide an illustration of a standard method
in elementary calculus with just a few lines of code. We will now
discuss with more detail the basic usage of these tools.</p>
<p>A note on visual styles: matplotlib has a rich system for controlling
the visual style of all plot elements. <a class="reference external" href="https://tonysyu.github.io/raw_content/matplotlib-style-gallery/gallery.html">This
page</a>
is a gallery that illustrates how each style choice affects different
plot types, which you can use to select the most appropriate to your
needs.</p>
</div>
<div class="section" id="NumPy-arrays:-the-right-data-structure-for-scientific-computing">
<h1>NumPy arrays: the right data structure for scientific computing<a class="headerlink" href="#NumPy-arrays:-the-right-data-structure-for-scientific-computing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Basics-of-Numpy-arrays">
<h2>Basics of Numpy arrays<a class="headerlink" href="#Basics-of-Numpy-arrays" title="Permalink to this headline">¶</a></h2>
<p>We now turn our attention to the Numpy library, which forms the base
layer for the entire ‘scipy ecosystem’. Once you have installed numpy,
you can import it as</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import numpy
</pre></div>
</div>
</div>
<p>though in this book we will use the common shorthand</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import numpy as np
</pre></div>
</div>
</div>
<p>As mentioned above, the main object provided by numpy is a powerful
array. We’ll start by exploring how the numpy array differs from Python
lists. We start by creating a simple list and an array with the same
contents of the list:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>lst = [10, 20, 30, 40]
arr = np.array([10, 20, 30, 40])
</pre></div>
</div>
</div>
<p>Elements of a one-dimensional array are accessed with the same syntax as
a list:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>lst[0]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[8]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>10
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr[0]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>10
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr[-1]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[10]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>40
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr[2:]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[11]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([30, 40])
</pre></div>
</div>
</div>
<p>The first difference to note between lists and arrays is that arrays are
<em>homogeneous</em>; i.e.&nbsp;all elements of an array must be of the same type.
In contrast, lists can contain elements of arbitrary type. For example,
we can change the last element in our list above to be a string:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>lst[-1] = &#39;a string inside a list&#39;
lst
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[12]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[10, 20, 30, &#39;a string inside a list&#39;]
</pre></div>
</div>
</div>
<p>but the same can not be done with an array, as we get an error message:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr[-1] = &#39;a string inside an array&#39;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-13-29c0bfa5fa8a&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>arr<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;a string inside an array&#39;</span>

<span class="ansi-red-fg">ValueError</span>: invalid literal for int() with base 10: &#39;a string inside an array&#39;
</pre></div></div>
</div>
<p>The information about the type of an array is contained in its <em>dtype</em>
attribute:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr.dtype
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[14]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>dtype(&#39;int64&#39;)
</pre></div>
</div>
</div>
<p>Once an array has been created, its dtype is fixed and it can only store
elements of the same type. For this example where the dtype is integer,
if we store a floating point number it will be automatically converted
into an integer:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr[-1] = round(-1.99999)
arr
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[15]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([10, 20, 30, -2])
</pre></div>
</div>
</div>
<p>Above we created an array from an existing list; now let us now see
other ways in which we can create arrays, which we’ll illustrate next. A
common need is to have an array initialized with a constant value, and
very often this value is 0 or 1 (suitable as starting value for additive
and multiplicative loops respectively); <code class="docutils literal"><span class="pre">zeros</span></code> creates arrays of all
zeros, with any desired dtype:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.zeros(5, float)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[16]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 0.,  0.,  0.,  0.,  0.])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.zeros(3, int)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[17]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([0, 0, 0])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.zeros(3, complex)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[18]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 0.+0.j,  0.+0.j,  0.+0.j])
</pre></div>
</div>
</div>
<p>and similarly for <code class="docutils literal"><span class="pre">ones</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;5 ones:&#39;, np.ones(5))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
5 ones: [ 1.  1.  1.  1.  1.]
</pre></div></div>
</div>
<p>If we want an array initialized with an arbitrary value, we can create
an empty array and then use the fill method to put the value we want
into the array:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>a = np.empty(4)
a.fill(5.5)
a
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[20]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 5.5,  5.5,  5.5,  5.5])
</pre></div>
</div>
</div>
<p>This illustrates the internal structure of a Numpy array (taken from the
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.html">official Numpy
docs</a>:</p>
<p>&lt;img src=“numpy_object.png”, width=60%&gt;</p>
<p>Numpy also offers the <code class="docutils literal"><span class="pre">arange</span></code> function, which works like the builtin
<code class="docutils literal"><span class="pre">range</span></code> but returns an array instead of a list:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.arange(1, 100, 5)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[21]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 1,  6, 11, 16, 21, 26, 31, 36, 41, 46, 51, 56, 61, 66, 71, 76, 81,
       86, 91, 96])
</pre></div>
</div>
</div>
<p>and the <code class="docutils literal"><span class="pre">linspace</span></code> and <code class="docutils literal"><span class="pre">logspace</span></code> functions to create linearly and
logarithmically-spaced grids respectively, with a fixed number of points
and including both ends of the specified interval:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&quot;A linear grid between 0 and 1:&quot;, np.linspace(0, 1, 5))
print(&quot;A logarithmic grid between 10**1 and 10**4: &quot;, np.logspace(1, 4, 4))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
A linear grid between 0 and 1: [ 0.    0.25  0.5   0.75  1.  ]
A logarithmic grid between 10**1 and 10**4:  [    10.    100.   1000.  10000.]
</pre></div></div>
</div>
<p>Finally, it is often useful to create arrays with random numbers that
follow a specific distribution. The <code class="docutils literal"><span class="pre">np.random</span></code> module contains a
number of functions that can be used to this effect, for example this
will produce an array of 5 random samples taken from a standard normal
distribution (0 mean and variance 1):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.randn(5)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[23]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 0.91350034,  0.63161325, -0.3609416 ,  0.75557583, -1.80078849])
</pre></div>
</div>
</div>
<p>whereas this will also give 5 samples, but from a normal distribution
with a mean of 10 and a variance of 3:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>norm10 = np.random.normal(10, 3, 5)
norm10
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[24]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([  9.38384542,   9.93356931,  12.20141612,   8.71316476,   8.43669464])
</pre></div>
</div>
</div>
</div>
<div class="section" id="Indexing-with-other-arrays">
<h2>Indexing with other arrays<a class="headerlink" href="#Indexing-with-other-arrays" title="Permalink to this headline">¶</a></h2>
<p>Above we saw how to index arrays with single numbers and slices, just
like Python lists. But arrays allow for a more sophisticated kind of
indexing which is very powerful: you can index an array with another
array, and in particular with an array of boolean values. This is
particluarly useful to extract information from an array that matches a
certain condition.</p>
<p>Consider for example that in the array <code class="docutils literal"><span class="pre">norm10</span></code> we want to replace all
values above 9 with the value 0. We can do so by first finding the
<em>mask</em> that indicates where this condition is true or false:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>mask = norm10 &gt; 9
mask
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[25]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ True,  True,  True, False, False], dtype=bool)
</pre></div>
</div>
</div>
<p>Now that we have this mask, we can use it to either read those values or
to reset them to 0:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Values above 9:&#39;, norm10[mask])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Values above 9: [  9.38384542   9.93356931  12.20141612]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Resetting all values above 9 to 0...&#39;)
norm10[mask] = 9
print(norm10)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Resetting all values above 9 to 0...
[ 9.          9.          9.          8.71316476  8.43669464]
</pre></div></div>
</div>
</div>
<div class="section" id="Arrays-with-more-than-one-dimension">
<h2>Arrays with more than one dimension<a class="headerlink" href="#Arrays-with-more-than-one-dimension" title="Permalink to this headline">¶</a></h2>
<p>Up until now all our examples have used one-dimensional arrays. But
Numpy can create arrays of aribtrary dimensions, and all the methods
illustrated in the previous section work with more than one dimension.
For example, a list of lists can be used to initialize a two dimensional
array:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>lst2 = [[1, 2], [3, 4]]
arr2 = np.array([[1, 2], [3, 4]])
arr2
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[28]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[1, 2],
       [3, 4]])
</pre></div>
</div>
</div>
<p>With two-dimensional arrays we start seeing the power of numpy: while a
nested list can be indexed using repeatedly the <code class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></code> operator,
multidimensional arrays support a much more natural indexing syntax with
a single <code class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></code> and a set of indices separated by commas:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(lst2[0][1])
print(arr2[0,1])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2
2
</pre></div></div>
</div>
<p>Most of the array creation functions listed above can be used with more
than one dimension, for example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.array([[1,2,3],[4,5,6]], order=&#39;F&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[30]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[1, 2, 3],
       [4, 5, 6]])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.zeros((2,3))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[31]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 0.,  0.,  0.],
       [ 0.,  0.,  0.]])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.normal(10, 3, (2, 4))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[32]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 10.41562345,   6.46572124,   9.50561014,   8.89613454],
       [  8.64172688,  11.99132109,   8.53578837,  12.92544428]])
</pre></div>
</div>
</div>
<p>In fact, the shape of an array can be changed at any time, as long as
the total number of elements is unchanged. For example, if we want a 2x4
array with numbers increasing from 0, the easiest way to create it is:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr = np.arange(8).reshape(2,4)
print(arr)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[0 1 2 3]
 [4 5 6 7]]
</pre></div></div>
</div>
<p>With multidimensional arrays, you can also use slices, and you can mix
and match slices and single indices in the different dimensions (using
the same array as above):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Slicing in the second row:&#39;, arr[1, 2:4])
print(&#39;All rows, third column   :&#39;, arr[:, 2])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Slicing in the second row: [6 7]
All rows, third column   : [2 6]
</pre></div></div>
</div>
<p>If you only provide one index, then you will get an array with one less
dimension containing that row:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;First row:  &#39;, arr[0])
print(&#39;Second row: &#39;, arr[1])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
First row:   [0 1 2 3]
Second row:  [4 5 6 7]
</pre></div></div>
</div>
<p>The following provides a visual overview of indexing in Numpy:</p>
<p>Now that we have seen how to create arrays with more than one dimension,
it’s a good idea to look at some of the most useful properties and
methods that arrays have. The following provide basic information about
the size, shape and data in the array:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Data type                :&#39;, arr.dtype)
print(&#39;Total number of elements :&#39;, arr.size)
print(&#39;Number of dimensions     :&#39;, arr.ndim)
print(&#39;Shape (dimensionality)   :&#39;, arr.shape)
print(&#39;Memory used (in bytes)   :&#39;, arr.nbytes)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Data type                : int64
Total number of elements : 8
Number of dimensions     : 2
Shape (dimensionality)   : (2, 4)
Memory used (in bytes)   : 64
</pre></div></div>
</div>
<p>Arrays also have many useful methods, some especially useful ones are:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Minimum and maximum             :&#39;, arr.min(), arr.max())
print(&#39;Sum and product of all elements :&#39;, arr.sum(), arr.prod())
print(&#39;Mean and standard deviation     :&#39;, arr.mean(), arr.std())
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Minimum and maximum             : 0 7
Sum and product of all elements : 28 0
Mean and standard deviation     : 3.5 2.29128784748
</pre></div></div>
</div>
<p>For these methods, the above operations area all computed on all the
elements of the array. But for a multidimensional array, it’s possible
to do the computation along a single dimension, by passing the <code class="docutils literal"><span class="pre">axis</span></code>
parameter; for example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;For the following array:\n&#39;, arr)
print(&#39;The sum of elements along the rows is    :&#39;, arr.sum(axis=1))
print(&#39;The sum of elements along the columns is :&#39;, arr.sum(axis=0))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
For the following array:
 [[0 1 2 3]
 [4 5 6 7]]
The sum of elements along the rows is    : [ 6 22]
The sum of elements along the columns is : [ 4  6  8 10]
</pre></div></div>
</div>
<p>As you can see in this example, the value of the <code class="docutils literal"><span class="pre">axis</span></code> parameter is
the dimension which will be <em>consumed</em> once the operation has been
carried out. This is why to sum along the rows we use <code class="docutils literal"><span class="pre">axis=0</span></code>.</p>
<p>This can be easily illustrated with an example that has more dimensions;
we create an array with 4 dimensions and shape <code class="docutils literal"><span class="pre">(3,4,5,6)</span></code> and sum
along the axis number 2 (i.e.&nbsp;the <em>third</em> axis, since in Python all
counts are 0-based). That consumes the dimension whose length was 5,
leaving us with a new array that has shape <code class="docutils literal"><span class="pre">(3,4,6)</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.zeros((3,4,5,6)).sum(2).shape
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[39]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(3, 4, 6)
</pre></div>
</div>
</div>
<p>Another widely used property of arrays is the <code class="docutils literal"><span class="pre">.T</span></code> attribute, which
allows you to access the transpose of the array:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;Array:\n&#39;, arr)
print(&#39;Transpose:\n&#39;, arr.T)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Array:
 [[0 1 2 3]
 [4 5 6 7]]
Transpose:
 [[0 4]
 [1 5]
 [2 6]
 [3 7]]
</pre></div></div>
</div>
<p>We don’t have time here to look at all the methods and properties of
arrays, here’s a complete list. Simply try exploring some of these
IPython to learn more, or read their description in the full Numpy
documentation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">T</span>             <span class="n">arr</span><span class="o">.</span><span class="n">copy</span>          <span class="n">arr</span><span class="o">.</span><span class="n">getfield</span>      <span class="n">arr</span><span class="o">.</span><span class="n">put</span>           <span class="n">arr</span><span class="o">.</span><span class="n">squeeze</span>
<span class="n">arr</span><span class="o">.</span><span class="n">all</span>           <span class="n">arr</span><span class="o">.</span><span class="n">ctypes</span>        <span class="n">arr</span><span class="o">.</span><span class="n">imag</span>          <span class="n">arr</span><span class="o">.</span><span class="n">ravel</span>         <span class="n">arr</span><span class="o">.</span><span class="n">std</span>
<span class="n">arr</span><span class="o">.</span><span class="n">any</span>           <span class="n">arr</span><span class="o">.</span><span class="n">cumprod</span>       <span class="n">arr</span><span class="o">.</span><span class="n">item</span>          <span class="n">arr</span><span class="o">.</span><span class="n">real</span>          <span class="n">arr</span><span class="o">.</span><span class="n">strides</span>
<span class="n">arr</span><span class="o">.</span><span class="n">argmax</span>        <span class="n">arr</span><span class="o">.</span><span class="n">cumsum</span>        <span class="n">arr</span><span class="o">.</span><span class="n">itemset</span>       <span class="n">arr</span><span class="o">.</span><span class="n">repeat</span>        <span class="n">arr</span><span class="o">.</span><span class="n">sum</span>
<span class="n">arr</span><span class="o">.</span><span class="n">argmin</span>        <span class="n">arr</span><span class="o">.</span><span class="n">data</span>          <span class="n">arr</span><span class="o">.</span><span class="n">itemsize</span>      <span class="n">arr</span><span class="o">.</span><span class="n">reshape</span>       <span class="n">arr</span><span class="o">.</span><span class="n">swapaxes</span>
<span class="n">arr</span><span class="o">.</span><span class="n">argsort</span>       <span class="n">arr</span><span class="o">.</span><span class="n">diagonal</span>      <span class="n">arr</span><span class="o">.</span><span class="n">max</span>           <span class="n">arr</span><span class="o">.</span><span class="n">resize</span>        <span class="n">arr</span><span class="o">.</span><span class="n">take</span>
<span class="n">arr</span><span class="o">.</span><span class="n">astype</span>        <span class="n">arr</span><span class="o">.</span><span class="n">dot</span>           <span class="n">arr</span><span class="o">.</span><span class="n">mean</span>          <span class="n">arr</span><span class="o">.</span><span class="n">round</span>         <span class="n">arr</span><span class="o">.</span><span class="n">tofile</span>
<span class="n">arr</span><span class="o">.</span><span class="n">base</span>          <span class="n">arr</span><span class="o">.</span><span class="n">dtype</span>         <span class="n">arr</span><span class="o">.</span><span class="n">min</span>           <span class="n">arr</span><span class="o">.</span><span class="n">searchsorted</span>  <span class="n">arr</span><span class="o">.</span><span class="n">tolist</span>
<span class="n">arr</span><span class="o">.</span><span class="n">byteswap</span>      <span class="n">arr</span><span class="o">.</span><span class="n">dump</span>          <span class="n">arr</span><span class="o">.</span><span class="n">nbytes</span>        <span class="n">arr</span><span class="o">.</span><span class="n">setasflat</span>     <span class="n">arr</span><span class="o">.</span><span class="n">tostring</span>
<span class="n">arr</span><span class="o">.</span><span class="n">choose</span>        <span class="n">arr</span><span class="o">.</span><span class="n">dumps</span>         <span class="n">arr</span><span class="o">.</span><span class="n">ndim</span>          <span class="n">arr</span><span class="o">.</span><span class="n">setfield</span>      <span class="n">arr</span><span class="o">.</span><span class="n">trace</span>
<span class="n">arr</span><span class="o">.</span><span class="n">clip</span>          <span class="n">arr</span><span class="o">.</span><span class="n">fill</span>          <span class="n">arr</span><span class="o">.</span><span class="n">newbyteorder</span>  <span class="n">arr</span><span class="o">.</span><span class="n">setflags</span>      <span class="n">arr</span><span class="o">.</span><span class="n">transpose</span>
<span class="n">arr</span><span class="o">.</span><span class="n">compress</span>      <span class="n">arr</span><span class="o">.</span><span class="n">flags</span>         <span class="n">arr</span><span class="o">.</span><span class="n">nonzero</span>       <span class="n">arr</span><span class="o">.</span><span class="n">shape</span>         <span class="n">arr</span><span class="o">.</span><span class="n">var</span>
<span class="n">arr</span><span class="o">.</span><span class="n">conj</span>          <span class="n">arr</span><span class="o">.</span><span class="n">flat</span>          <span class="n">arr</span><span class="o">.</span><span class="n">prod</span>          <span class="n">arr</span><span class="o">.</span><span class="n">size</span>          <span class="n">arr</span><span class="o">.</span><span class="n">view</span>
<span class="n">arr</span><span class="o">.</span><span class="n">conjugate</span>     <span class="n">arr</span><span class="o">.</span><span class="n">flatten</span>       <span class="n">arr</span><span class="o">.</span><span class="n">ptp</span>           <span class="n">arr</span><span class="o">.</span><span class="n">sort</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.argmax?
</pre></div>
</div>
</div>
</div>
<div class="section" id="Excercise:-the-Trapezoidal-rule">
<h2>Excercise: the Trapezoidal rule<a class="headerlink" href="#Excercise:-the-Trapezoidal-rule" title="Permalink to this headline">¶</a></h2>
<p><strong>Illustrates</strong>: basic array slicing, functions as first class objects.</p>
<p>In this exercise, you are tasked with implementing the simple trapezoid
rule formula for numerical integration that we illustrated above.</p>
<p>If we denote by <span class="math">\(x_{i}\)</span> (<span class="math">\(i=0,\ldots,n,\)</span> with
<span class="math">\(x_{0}=a\)</span> and <span class="math">\(x_{n}=b\)</span>) the abscissas where the function is
sampled, then</p>
<div class="math">
\[\int_{a}^{b}f(x)dx\approx\frac{1}{2}\sum_{i=1}^{n}\left(x_{i}-x_{i-1}\right)\left(f(x_{i})+f(x_{i-1})\right).\]</div>
<p>The common case of using equally spaced abscissas with spacing
<span class="math">\(h=(b-a)/n\)</span> reads:</p>
<div class="math">
\[\int_{a}^{b}f(x)dx\approx\frac{h}{2}\sum_{i=1}^{n}\left(f(x_{i})+f(x_{i-1})\right).\]</div>
<p>One frequently receives the function values already precomputed,
<span class="math">\(y_{i}=f(x_{i}),\)</span> so the formula becomes</p>
<div class="math">
\[\int_{a}^{b}f(x)dx\approx\frac{1}{2}\sum_{i=1}^{n}\left(x_{i}-x_{i-1}\right)\left(y_{i}+y_{i-1}\right).\]</div>
<p>In this exercise, you’ll need to write two functions, <code class="docutils literal"><span class="pre">trapz</span></code> and
<code class="docutils literal"><span class="pre">trapzf</span></code>. <code class="docutils literal"><span class="pre">trapz</span></code> applies the trapezoid formula to pre-computed
values, implementing equation trapz, while <code class="docutils literal"><span class="pre">trapzf</span></code> takes a function
<span class="math">\(f\)</span> as input, as well as the total number of samples to evaluate,
and computes the equation above.</p>
<p>Test it and show that it produces correct values for some simple
integrals you can compute analytically or compare your answers against
<code class="docutils literal"><span class="pre">scipy.integrate.trapz</span></code> as above, using our test function
<span class="math">\(f(x)\)</span>.</p>
</div>
<div class="section" id="Operating-with-arrays">
<h2>Operating with arrays<a class="headerlink" href="#Operating-with-arrays" title="Permalink to this headline">¶</a></h2>
<p>Arrays support all regular arithmetic operators, and the numpy library
also contains a complete collection of basic mathematical functions that
operate on arrays. It is important to remember that in general, all
operations with arrays are applied <em>element-wise</em>, i.e., are applied to
all the elements of the array at the same time. Consider for example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr1 = np.arange(4)
arr2 = np.arange(10, 14)
print(arr1, &#39;+&#39;, arr2, &#39;=&#39;, arr1+arr2)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0 1 2 3] + [10 11 12 13] = [10 12 14 16]
</pre></div></div>
</div>
<p>Importantly, you must remember that even the multiplication operator is
by default applied element-wise, it is <em>not</em> the matrix multiplication
from linear algebra (as is the case in Matlab, for example):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(arr1, &#39;*&#39;, arr2, &#39;=&#39;, arr1*arr2)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0 1 2 3] * [10 11 12 13] = [ 0 11 24 39]
</pre></div></div>
</div>
<p>While this means that in principle arrays must always match in their
dimensionality in order for an operation to be valid, numpy will
<em>broadcast</em> dimensions when possible. For example, suppose that you want
to add the number 1.5 to <code class="docutils literal"><span class="pre">arr1</span></code>; the following would be a valid way to
do it:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr1 + 1.5*np.ones(4)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[44]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 1.5,  2.5,  3.5,  4.5])
</pre></div>
</div>
</div>
<p>But thanks to numpy’s broadcasting rules, the following is equally
valid:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr1 + 1.5
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[45]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 1.5,  2.5,  3.5,  4.5])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr1.shape
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[46]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(4,)
</pre></div>
</div>
</div>
<p>In this case, numpy looked at both operands and saw that the first
(<code class="docutils literal"><span class="pre">arr1</span></code>) was a one-dimensional array of length 4 and the second was a
scalar, considered a zero-dimensional object. The broadcasting rules
allow numpy to:</p>
<ul class="simple">
<li><em>create</em> new dimensions of length 1 (since this doesn’t change the
size of the array)</li>
<li>‘stretch’ a dimension of length 1 that needs to be matched to a
dimension of a different size.</li>
</ul>
<p>So in the above example, the scalar 1.5 is effectively:</p>
<ul class="simple">
<li>first ‘promoted’ to a 1-dimensional array of length 1</li>
<li>then, this array is ‘stretched’ to length 4 to match the dimension of
<code class="docutils literal"><span class="pre">arr1</span></code>.</li>
</ul>
<p>After these two operations are complete, the addition can proceed as now
both operands are one-dimensional arrays of length 4.</p>
<p>This broadcasting behavior is in practice enormously powerful,
especially because when numpy broadcasts to create new dimensions or to
‘stretch’ existing ones, it doesn’t actually replicate the data. In the
example above the operation is carried <em>as if</em> the 1.5 was a 1-d array
with 1.5 in all of its entries, but no actual array was ever created.
This can save lots of memory in cases when the arrays in question are
large and can have significant performance implications.</p>
<p>The general rule is: when operating on two arrays, NumPy compares their
shapes element-wise. It starts with the trailing dimensions, and works
its way forward, creating dimensions of length 1 as needed. Two
dimensions are considered compatible when</p>
<ul class="simple">
<li>they are equal to begin with, or</li>
<li>one of them is 1; in this case numpy will do the ‘stretching’ to make
them equal.</li>
</ul>
<p>If these conditions are not met, a
<code class="docutils literal"><span class="pre">ValueError:</span> <span class="pre">operands</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">broadcast</span> <span class="pre">together</span> <span class="pre">with</span> <span class="pre">shapes</span> <span class="pre">...</span></code>
exception is thrown, indicating that the arrays have incompatible
shapes. The size of the resulting array is the maximum size along each
dimension of the input arrays.</p>
<p>This shows how the broadcasting rules work in several dimensions:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>b = np.array([2, 3, 4, 5])
print(arr, &#39;\n\n+&#39;, b , &#39;\n----------------\n&#39;, arr + b)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[0 1 2 3]
 [4 5 6 7]]

+ [2 3 4 5]
----------------
 [[ 2  4  6  8]
 [ 6  8 10 12]]
</pre></div></div>
</div>
<p>Now, how could you use broadcasting to say add <code class="docutils literal"><span class="pre">[4,</span> <span class="pre">6]</span></code> along the rows
to <code class="docutils literal"><span class="pre">arr</span></code> above? Simply performing the direct addition will produce the
error we previously mentioned:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>c = np.array([4, 6])
arr + c
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-48-62aa20ac1980&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> c <span class="ansi-blue-fg">=</span> np<span class="ansi-blue-fg">.</span>array<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">6</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>arr <span class="ansi-blue-fg">+</span> c

<span class="ansi-red-fg">ValueError</span>: operands could not be broadcast together with shapes (2,4) (2,)
</pre></div></div>
</div>
<p>According to the rules above, the array <code class="docutils literal"><span class="pre">c</span></code> would need to have a
<em>trailing</em> dimension of 1 for the broadcasting to work. It turns out
that numpy allows you to ‘inject’ new dimensions anywhere into an array
on the fly, by indexing it with the special object <code class="docutils literal"><span class="pre">np.newaxis</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>c[:, np.newaxis]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[49]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[4],
       [6]])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(c.shape)
print((c[:, np.newaxis]).shape)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(2,)
(2, 1)
</pre></div></div>
</div>
<p>This is exactly what we need, and indeed it works:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr + c[:, np.newaxis]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[51]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 4,  5,  6,  7],
       [10, 11, 12, 13]])
</pre></div>
</div>
</div>
<p>For the full broadcasting rules, please see the official Numpy docs,
which describe them in detail and with more complex examples.</p>
<p>As we mentioned before, Numpy ships with a full complement of
mathematical functions that work on entire arrays, including logarithms,
exponentials, trigonometric and hyperbolic trigonometric functions, etc.
Furthermore, scipy ships a rich special function library in the
<code class="docutils literal"><span class="pre">scipy.special</span></code> module that includes Bessel, Airy, Fresnel, Laguerre
and other classical special functions. For example, sampling the sine
function at 100 points between <span class="math">\(0\)</span> and <span class="math">\(2\pi\)</span> is as simple
as:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>x = np.linspace(0, 2*np.pi, 100)
y = np.sin(x)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import math
math.sin(x)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-53-3c5e341d8673&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">import</span> math
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>math<span class="ansi-blue-fg">.</span>sin<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: only length-1 arrays can be converted to Python scalars
</pre></div></div>
</div>
</div>
<div class="section" id="Linear-algebra-in-numpy">
<h2>Linear algebra in numpy<a class="headerlink" href="#Linear-algebra-in-numpy" title="Permalink to this headline">¶</a></h2>
<p>Numpy ships with a basic linear algebra library, and all arrays have a
<code class="docutils literal"><span class="pre">dot</span></code> method whose behavior is that of the scalar dot product when its
arguments are vectors (one-dimensional arrays) and the traditional
matrix multiplication when one or both of its arguments are
two-dimensional arrays:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>v1 = np.array([2, 3, 4])
v2 = np.array([1, 0, 1])
print(v1, &#39;.&#39;, v2, &#39;=&#39;, v1.dot(v2))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[2 3 4] . [1 0 1] = 6
</pre></div></div>
</div>
<p>In Python 3.5, the new <code class="docutils literal"><span class="pre">&#64;</span></code> operator was introduced to represent
<a class="reference external" href="http://legacy.python.org/dev/peps/pep-0465">matrix multiplication</a>,
at the request of the scientific community. While <code class="docutils literal"><span class="pre">np.dot</span></code> and the
<code class="docutils literal"><span class="pre">.dot</span></code> method of arrays continue to exist, using <code class="docutils literal"><span class="pre">&#64;</span></code> tends to
produce much more readable code. We will use <code class="docutils literal"><span class="pre">&#64;</span></code> henceforth in this
tutorial. The above line would now read:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(v1, &#39;.&#39;, v2, &#39;=&#39;, v1 @ v2)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[2 3 4] . [1 0 1] = 6
</pre></div></div>
</div>
<p>Here is a regular matrix-vector multiplication, note that the array
<code class="docutils literal"><span class="pre">v1</span></code> should be viewed as a <em>column</em> vector in traditional linear
algebra notation; numpy makes no distinction between row and column
vectors and simply verifies that the dimensions match the required rules
of matrix multiplication, in this case we have a <span class="math">\(2 \times 3\)</span>
matrix multiplied by a 3-vector, which produces a 2-vector:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>A = np.arange(6).reshape(2, 3)
print(A, &#39;x&#39;, v1, &#39;=&#39;, A @ v1)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[0 1 2]
 [3 4 5]] x [2 3 4] = [11 38]
</pre></div></div>
</div>
<p>For matrix-matrix multiplication, the same dimension-matching rules must
be satisfied, e.g.&nbsp;consider the difference between <span class="math">\(A \times A^T\)</span>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(A @ A.T)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 5 14]
 [14 50]]
</pre></div></div>
</div>
<p>and <span class="math">\(A^T \times A\)</span>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(A.T @ A)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 9 12 15]
 [12 17 22]
 [15 22 29]]
</pre></div></div>
</div>
<p>Furthermore, the <code class="docutils literal"><span class="pre">numpy.linalg</span></code> module includes additional
functionality such as determinants, matrix norms, Cholesky, eigenvalue
and singular value decompositions, etc. For even more linear algebra
tools, <code class="docutils literal"><span class="pre">scipy.linalg</span></code> contains the majority of the tools in the
classic LAPACK libraries as well as functions to operate on sparse
matrices. We refer the reader to the Numpy and Scipy documentations for
additional details on these.</p>
</div>
<div class="section" id="Reading-and-writing-arrays-to-disk">
<h2>Reading and writing arrays to disk<a class="headerlink" href="#Reading-and-writing-arrays-to-disk" title="Permalink to this headline">¶</a></h2>
<p>Numpy lets you read and write arrays into files in a number of ways. In
order to use these tools well, it is critical to understand the
difference between a <em>text</em> and a <em>binary</em> file containing numerical
data. In a text file, the number <span class="math">\(\pi\)</span> could be written as
“3.141592653589793”, for example: a string of digits that a human can
read, with in this case 15 decimal digits. In contrast, that same number
written to a binary file would be encoded as 8 characters (bytes) that
are not readable by a human but which contain the exact same data that
the variable <code class="docutils literal"><span class="pre">pi</span></code> had in the computer’s memory.</p>
<p>The tradeoffs between the two modes are thus:</p>
<ul class="simple">
<li>Text mode: occupies more space, precision can be lost (if not all
digits are written to disk), but is readable and editable by hand
with a text editor. Can <em>only</em> be used for one- and two-dimensional
arrays.</li>
<li>Binary mode: compact and exact representation of the data in memory,
can’t be read or edited by hand. Arrays of any size and
dimensionality can be saved and read without loss of information.</li>
</ul>
<p>First, let’s see how to read and write arrays in text mode. The
<code class="docutils literal"><span class="pre">np.savetxt</span></code> function saves an array to a text file, with options to
control the precision, separators and even adding a header:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr = np.arange(10).reshape(2, 5)
np.savetxt(&#39;test.out&#39;, arr, fmt=&#39;%.2e&#39;, header=&quot;My dataset&quot;)
!cat test.out
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
# My dataset
0.00e+00 1.00e+00 2.00e+00 3.00e+00 4.00e+00
5.00e+00 6.00e+00 7.00e+00 8.00e+00 9.00e+00
</pre></div></div>
</div>
<p>And this same type of file can then be read with the matching
<code class="docutils literal"><span class="pre">np.loadtxt</span></code> function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>arr2 = np.loadtxt(&#39;test.out&#39;)
print(arr2)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 0.  1.  2.  3.  4.]
 [ 5.  6.  7.  8.  9.]]
</pre></div></div>
</div>
<p>For binary data, Numpy provides the <code class="docutils literal"><span class="pre">np.save</span></code> and <code class="docutils literal"><span class="pre">np.savez</span></code>
routines. The first saves a single array to a file with <code class="docutils literal"><span class="pre">.npy</span></code>
extension, while the latter can be used to save a <em>group</em> of arrays into
a single file with <code class="docutils literal"><span class="pre">.npz</span></code> extension. The files created with these
routines can then be read with the <code class="docutils literal"><span class="pre">np.load</span></code> function.</p>
<p>Let us first see how to use the simpler <code class="docutils literal"><span class="pre">np.save</span></code> function to save a
single array:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.save(&#39;test.npy&#39;, arr2)
# Now we read this back
arr2n = np.load(&#39;test.npy&#39;)
# Let&#39;s see if any element is non-zero in the difference.
# A value of True would be a problem.
print(&#39;Any differences?&#39;, np.any(arr2-arr2n))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Any differences? False
</pre></div></div>
</div>
<p>Now let us see how the <code class="docutils literal"><span class="pre">np.savez</span></code> function works. You give it a
filename and either a sequence of arrays or a set of keywords. In the
first mode, the function will auotmatically name the saved arrays in the
archive as <code class="docutils literal"><span class="pre">arr_0</span></code>, <code class="docutils literal"><span class="pre">arr_1</span></code>, etc:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.savez(&#39;test.npz&#39;, arr, arr2)
arrays = np.load(&#39;test.npz&#39;)
arrays.files
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[62]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[&#39;arr_0&#39;, &#39;arr_1&#39;]
</pre></div>
</div>
</div>
<p>Alternatively, we can explicitly choose how to name the arrays we save:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.savez(&#39;test.npz&#39;, array1=arr, array2=arr2)
arrays = np.load(&#39;test.npz&#39;)
arrays.files
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[63]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[&#39;array1&#39;, &#39;array2&#39;]
</pre></div>
</div>
</div>
<p>The object returned by <code class="docutils literal"><span class="pre">np.load</span></code> from an <code class="docutils literal"><span class="pre">.npz</span></code> file works like a
dictionary, though you can also access its constituent files by
attribute using its special <code class="docutils literal"><span class="pre">.f</span></code> field; this is best illustrated with
an example with the <code class="docutils literal"><span class="pre">arrays</span></code> object from above:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>print(&#39;First row of first array:&#39;, arrays[&#39;array1&#39;][0])
# This is an equivalent way to get the same field
print(&#39;First row of first array:&#39;, arrays.f.array1[0])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
First row of first array: [0 1 2 3 4]
First row of first array: [0 1 2 3 4]
</pre></div></div>
</div>
<p>This <code class="docutils literal"><span class="pre">.npz</span></code> format is a very convenient way to package compactly and
without loss of information, into a single file, a group of related
arrays that pertain to a specific problem. At some point, however, the
complexity of your dataset may be such that the optimal approach is to
use one of the standard formats in scientific data processing that have
been designed to handle complex datasets, such as NetCDF or HDF5.</p>
<p>Fortunately, there are tools for manipulating these formats in Python,
and for storing data in other ways such as databases. A complete
discussion of the possibilities is beyond the scope of this discussion,
but of particular interest for scientific users we at least mention the
following:</p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">scipy.io</span></code> module contains routines to read and write Matlab
files in <code class="docutils literal"><span class="pre">.mat</span></code> format and files in the NetCDF format that is
widely used in certain scientific disciplines.</li>
<li>For manipulating files in the HDF5 format, there are two excellent
options in Python: The PyTables project offers a high-level, object
oriented approach to manipulating HDF5 datasets, while the h5py
project offers a more direct mapping to the standard HDF5 library
interface. Both are excellent tools; if you need to work with HDF5
datasets you should read some of their documentation and examples and
decide which approach is a better match for your needs.</li>
</ul>
</div>
</div>
<div class="section" id="High-quality-data-visualization-with-Matplotlib">
<h1>High quality data visualization with Matplotlib<a class="headerlink" href="#High-quality-data-visualization-with-Matplotlib" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference external" href="http://matplotlib.sf.net">matplotlib</a> library is a powerful tool
capable of producing complex publication-quality figures with fine
layout control in two and three dimensions; here we will only provide a
minimal self-contained introduction to its usage that covers the
functionality needed for the rest of the book. We encourage the reader
to read the tutorials included with the matplotlib documentation as well
as to browse its extensive gallery of examples that include source code.</p>
<p>Just as we typically use the shorthand <code class="docutils literal"><span class="pre">np</span></code> for Numpy, we will use
<code class="docutils literal"><span class="pre">plt</span></code> for the <code class="docutils literal"><span class="pre">matplotlib.pyplot</span></code> module where the easy-to-use
plotting functions reside (the library contains a rich object-oriented
architecture that we don’t have the space to discuss here):</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import matplotlib.pyplot as plt
</pre></div>
</div>
</div>
<p>The most frequently used function is simply called <code class="docutils literal"><span class="pre">plot</span></code>, here is how
you can make a simple plot of <span class="math">\(\sin(x)\)</span> for
<span class="math">\(x \in [0, 2\pi]\)</span> with labels and a grid (we use the semicolon in
the last line to suppress the display of some information that is
unnecessary right now):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>x = np.linspace(0, 2*np.pi)
y = np.sin(x)
plt.figure()
plt.plot(x,y, label=&#39;sin(x)&#39;)
plt.legend()
plt.grid()
plt.title(&#39;Harmonic&#39;)
plt.xlabel(&#39;x&#39;)
plt.ylabel(&#39;y&#39;);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_139_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_139_0.png" />
</div>
</div>
<p>You can control the style, color and other properties of the markers,
for example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>plt.plot(x, y, linewidth=2);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_141_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_141_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>plt.plot(x, y, &#39;o&#39;, markersize=5, color=&#39;r&#39;);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_142_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_142_0.png" />
</div>
</div>
<p>We will now see how to create a few other common plot types, such as a
simple error plot:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span># example data
x = np.arange(0.1, 4, 0.5)
y = np.exp(-x)

# example variable error bar values
yerr = 0.1 + 0.2*np.sqrt(x)
xerr = 0.1 + yerr

# First illustrate basic pyplot interface, using defaults where possible.
plt.figure()
plt.errorbar(x, y, xerr=0.2, yerr=0.4)
plt.title(&quot;Simplest errorbars, 0.2 in x, 0.4 in y&quot;);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_144_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_144_0.png" />
</div>
</div>
<p>A simple log plot</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>x = np.linspace(-5, 5)
y = np.exp(-x**2)
plt.semilogy(x, y);
#plt.plot(x, y);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_146_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_146_0.png" />
</div>
</div>
<p>A histogram annotated with text inside the plot, using the <code class="docutils literal"><span class="pre">text</span></code>
function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>mu, sigma = 100, 15
x = mu + sigma * np.random.randn(10000)

# the histogram of the data
n, bins, patches = plt.hist(x, 50, normed=1, facecolor=&#39;g&#39;, alpha=0.75)

plt.xlabel(&#39;Smarts&#39;)
plt.ylabel(&#39;Probability&#39;)
plt.title(&#39;Histogram of IQ&#39;)
# This will put a text fragment at the position given:
plt.text(55, .027, r&#39;$\mu=100,\ \sigma=15$&#39;, fontsize=14)
plt.axis([40, 160, 0, 0.03])
plt.grid()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_148_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_148_0.png" />
</div>
</div>
<div class="section" id="Image-display">
<h2>Image display<a class="headerlink" href="#Image-display" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">imshow</span></code> command can display single or multi-channel images. A
simple array of random numbers, plotted in grayscale:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>from matplotlib import cm

plt.imshow(np.random.rand(5, 10), cmap=cm.gray, interpolation=&#39;nearest&#39;);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_151_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_151_0.png" />
</div>
</div>
<p>A real photograph is a multichannel image, <code class="docutils literal"><span class="pre">imshow</span></code> interprets it
correctly:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>img = plt.imread(&#39;stinkbug.png&#39;)
print(&#39;Dimensions of the array img:&#39;, img.shape)
plt.imshow(img);
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dimensions of the array img: (375, 500, 3)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_153_1.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_153_1.png" />
</div>
</div>
</div>
<div class="section" id="Simple-3d-plotting-with-matplotlib">
<h2>Simple 3d plotting with matplotlib<a class="headerlink" href="#Simple-3d-plotting-with-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>Note that you must execute at least once in your session:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>from mpl_toolkits.mplot3d import Axes3D
</pre></div>
</div>
</div>
<p>One this has been done, you can create 3d axes with the
<code class="docutils literal"><span class="pre">projection='3d'</span></code> keyword to <code class="docutils literal"><span class="pre">add_subplot</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="o">&lt;</span><span class="n">other</span> <span class="n">arguments</span> <span class="n">here</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A simple surface plot:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>from mpl_toolkits.mplot3d.axes3d import Axes3D
from matplotlib import cm

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1, projection=&#39;3d&#39;)
X = np.arange(-5, 5, 0.25)
Y = np.arange(-5, 5, 0.25)
X, Y = np.meshgrid(X, Y)
R = np.sqrt(X**2 + Y**2)
Z = np.sin(R)
surf = ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=cm.viridis,
        linewidth=0, antialiased=False)
ax.set_zlim3d(-1.01, 1.01);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/lectures_09-intro-numpy_intro-numpy_159_0.png" src="../../_images/lectures_09-intro-numpy_intro-numpy_159_0.png" />
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Stat 159/259 - Reproducible and Collaborative Data Science</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01-git/Git-Tutorial.html">An interactive Git Tutorial: the tool you didn’t know you needed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-ipython/Index.html">A quick overview of the Jupyter Notebook and IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-reading1-discussion.html">Reading discussion - Developing open source scientific practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-reading2-discussion.html">Reading discussion - Scientific Python, IPython, Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-class-practice.html">Class practice: strings, lists &amp; numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-conda-pip-environments.html">Conda and pip - managing environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-reading3-discussion.html">From September 25 reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-reading3-discussion.html#Make:-automating-tasks">Make: automating tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-ligo-make.html">LIGO, the 2017 Nobel prize in physics, and wrapping up Makefiles</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">An Introduction to the Scientific Python Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="#Motivation:-the-trapezoidal-rule">Motivation: the trapezoidal rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="#NumPy-arrays:-the-right-data-structure-for-scientific-computing">NumPy arrays: the right data structure for scientific computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="#High-quality-data-visualization-with-Matplotlib">High quality data visualization with Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="trapezoid.html">The trapezoidal rule: vectorization and perormance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/10-matplotlib_beyond_basics.html">Matplotlib: Beyond the basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/10-matplotlib_live_plots.html">Matplotlib: Live plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/image_tutorial.html">Matplotlib image tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/image_tutorial.html#Multichannel-images">Multichannel images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11-strings/11-strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11-strings/11-nltk.html">NLTK: Natural Language Made Easy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12-data-intro.html">Data - an introduction to the world of Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13-data-frames.html">Data Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14-sphinx.html">An introduction to Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15-pvalues/index.html">P-values discussion with Prof. Philip B. Stark</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab1.html">Lab 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab10.html">Lab 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab2.html">Lab 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab3.html">Lab 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab4.html">Lab 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab5.html">Lab 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab6.html">Lab 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab7.html">Lab 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab8.html">Lab 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab9.html">Lab 9</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Course resources</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../08-ligo-make.html" title="previous chapter">LIGO, the 2017 Nobel prize in physics, and wrapping up Makefiles</a></li>
      <li>Next: <a href="trapezoid.html" title="next chapter">The trapezoidal rule: vectorization and perormance</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Fernando Perez.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/lectures/09-intro-numpy/intro-numpy.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>