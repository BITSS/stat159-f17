<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>An interactive Git Tutorial: the tool you didn’t know you needed &#8212; Stat 159/259 - Reproducible and Collaborative Data Science 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="A quick overview of the Jupyter Notebook and IPython" href="../02-ipython/Index.html" />
    <link rel="prev" title="Stat 159/259 - Reproducible and Collaborative Data Science" href="../../index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="An-interactive-Git-Tutorial:-the-tool-you-didn't-know-you-needed">
<h1>An interactive Git Tutorial: the tool you didn&#8217;t know you needed<a class="headerlink" href="#An-interactive-Git-Tutorial:-the-tool-you-didn't-know-you-needed" title="Permalink to this headline">¶</a></h1>
<div class="section" id="From-personal-workflows-to-open-collaboration">
<h2>From personal workflows to open collaboration<a class="headerlink" href="#From-personal-workflows-to-open-collaboration" title="Permalink to this headline">¶</a></h2>
<p><strong>Note:</strong> this tutorial was particularly modeled, and therefore owes a
lot, to the excellent materials offered in:</p>
<ul class="simple">
<li><a class="reference external" href="http://nyuccl.org/pages/GitTutorial">&#8220;Git for Scientists: A
Tutorial&#8221;</a> by John McDonnell</li>
<li>Emanuele Olivetti&#8217;s lecture notes and exercises from the G-Node
summer school on <a class="reference external" href="https://python.g-node.org/wiki/schedule">Advanced Scientific Programming in
Python</a>.</li>
</ul>
<p>In particular I&#8217;ve reused the excellent images from the <a class="reference external" href="http://git-scm.com/book">Pro Git
book</a> that John had already selected and
downloaded, as well as some of his outline. But this version of the
tutorial aims to be 100% reproducible by being executed directly as an
IPython notebook and is hosted itself on github so that others can more
easily make improvements to it by collaborating on Github. Many thanks
to John and Emanuele for making their materials available online.</p>
<p>After writing this document, I discovered <a class="reference external" href="https://github.com/jrjohansson">J.R.
Johansson</a>&#8216;s <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/jrjohansson/scientific-python-lectures/master/Lecture-7-Revision-Control-Software.ipynb">tutorial on version
control</a>
that is also written as a fully reproducible notebook and is also aimed
at a scientific audience. It has a similar spirit to this one, and is
part of his excellent series <a class="reference external" href="https://github.com/jrjohansson/scientific-python-lectures">Lectures on Scientific Computing with
Python</a>
that is entirely available as IPython Notebooks.</p>
</div>
<div class="section" id="Wikipedia">
<h2>Wikipedia<a class="headerlink" href="#Wikipedia" title="Permalink to this headline">¶</a></h2>
<p>“Revision control, also known as version control, source control or
software configuration management (SCM), is the <strong>management of changes
to documents, programs, and other information stored as computer
files.</strong>”</p>
<p><strong>Reproducibility?</strong></p>
<ul class="simple">
<li>Tracking and recreating every step of your work</li>
<li>In the software world: it&#8217;s called <em>Version Control</em>!</li>
</ul>
<p>What do (good) version control tools give you?</p>
<ul class="simple">
<li>Peace of mind (backups)</li>
<li>Freedom (exploratory branching)</li>
<li>Collaboration (synchronization)</li>
</ul>
</div>
<div class="section" id="Git-is-an-enabling-technology:-Use-version-control-for-everything">
<h2>Git is an enabling technology: Use version control for everything<a class="headerlink" href="#Git-is-an-enabling-technology:-Use-version-control-for-everything" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Paper writing (never get
<code class="docutils literal"><span class="pre">paper_v5_john_jane_final_oct22_really_final.tex</span></code> by email again!)</li>
<li>Grant writing</li>
<li>Everyday research</li>
<li>Teaching (never accept an emailed homework assignment again!)</li>
</ul>
</div>
<div class="section" id="Teaching-courses-with-Git">
<h2>Teaching courses with Git<a class="headerlink" href="#Teaching-courses-with-Git" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="" src="../../_images/indefero_projects_notes.png" />
</div>
<!-- offline:
<img src="files/fig/indefero_projects_notes.png" width="100%">
<img src="https://raw.github.com/fperez/reprosw/master/fig/indefero_projects_notes.png" width="100%">
--></div>
<div class="section" id="Annotated-history-of-each-student's-worfklow-(and-backup!)">
<h2>Annotated history of each student&#8217;s worfklow (and backup!)<a class="headerlink" href="#Annotated-history-of-each-student's-worfklow-(and-backup!)" title="Permalink to this headline">¶</a></h2>
<!-- offline:
    <img src="files/fig/indefero_projects1.png" width="100%">
<img src="https://raw.github.com/fperez/reprosw/master/fig/indefero_projects1.png" width="100%">
    --><div class="figure">
<img alt="" src="../../_images/indefero_projects1.png" />
</div>
</div>
<div class="section" id="The-plan-for-this-tutorial">
<h2>The plan for this tutorial<a class="headerlink" href="#The-plan-for-this-tutorial" title="Permalink to this headline">¶</a></h2>
<p>This tutorial is structured in the following way: we will begin with a
brief overview of key concepts you need to understand in order for git
to really make sense. We will then dive into hands-on work: after a
brief interlude into necessary configuration we will discuss 5 &#8220;stages
of git&#8221; with scenarios of increasing sophistication and complexity,
introducing the necessary commands for each stage:</p>
<ol class="arabic simple">
<li>Local, single-user, linear workflow</li>
<li>Single local user, branching</li>
<li>Using remotes as a single user</li>
<li>Remotes for collaborating in a small team</li>
<li>Full-contact github: distributed collaboration with large teams</li>
</ol>
<p>In reality, this tutorial only covers stages 1-4, since for #5 there are
many software develoment-oriented tutorials and documents of very high
quality online. But most scientists start working alone with a few files
or with a small team, so I feel it&#8217;s important to build first the key
concepts and practices based on problems scientists encounter in their
everyday life and without the jargon of the software world. Once you&#8217;ve
become familiar with 1-4, the excellent tutorials that exist about
collaborating on github on open-source projects should make sense.</p>
</div>
<div class="section" id="Very-high-level-picture:-an-overview-of-key-concepts">
<h2>Very high level picture: an overview of key concepts<a class="headerlink" href="#Very-high-level-picture:-an-overview-of-key-concepts" title="Permalink to this headline">¶</a></h2>
<p>The <strong>commit</strong>: <em>a snapshot of work at a point in time</em></p>
<!-- offline:
![](fig/commit_anatomy.png)

<img src="https://raw.github.com/fperez/reprosw/master/fig/commit_anatomy.png">
--><div class="figure">
<img alt="" src="../../_images/commit_anatomy.png" />
</div>
<p>Credit: ProGit book, by Scott Chacon, CC License.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">ls</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Git-Tutorial.ipynb  <span class="ansi-blue-fg">fig</span>/                gh-token
</pre></div></div>
</div>
<p>A <strong>repository</strong>: a group of <em>linked</em> commits</p>
<!-- offline:
![](files/fig/threecommits.png)

<img src="https://raw.github.com/fperez/reprosw/master/fig/threecommits.png" >
--><div class="figure">
<img alt="" src="../../_images/threecommits.png" />
</div>
<p>Note: these form a Directed Acyclic Graph (DAG), with nodes identified
by their <em>hash</em>.</p>
<p>A <strong>hash</strong>: a fingerprint of the content of each commit <em>and its parent</em></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">hashlib</span> <span class="k">import</span> <span class="n">sha1</span>

<span class="c1"># Our first commit</span>
<span class="n">data1</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;This is the start of my paper.&#39;</span>
<span class="n">meta1</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;date: 1/1/17&#39;</span>
<span class="n">hash1</span> <span class="o">=</span> <span class="n">sha1</span><span class="p">(</span><span class="n">data1</span> <span class="o">+</span> <span class="n">meta1</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hash:&#39;</span><span class="p">,</span> <span class="n">hash1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hash: 3b32905baabd5ff22b3832c892078f78f5e5bd3b
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># Our second commit, linked to the first</span>
<span class="n">data2</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;Some more text in my paper...&#39;</span>
<span class="n">meta2</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;date: 1/2/1&#39;</span>
<span class="c1"># Note we add the parent hash here!</span>
<span class="n">hash2</span> <span class="o">=</span> <span class="n">sha1</span><span class="p">(</span><span class="n">data2</span> <span class="o">+</span> <span class="n">meta2</span> <span class="o">+</span> <span class="n">hash1</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hash:&#39;</span><span class="p">,</span> <span class="n">hash2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hash: 1c12d2aad51d5fc33e5b83a03b8787dfadde92a4
</pre></div></div>
</div>
<p>And this is pretty much the essence of Git!</p>
</div>
<div class="section" id="First-things-first:-git-must-be-configured-before-first-use">
<h2>First things first: git must be configured before first use<a class="headerlink" href="#First-things-first:-git-must-be-configured-before-first-use" title="Permalink to this headline">¶</a></h2>
<p>The minimal amount of configuration for git to work without pestering
you is to tell it who you are:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
git config --global user.name <span class="s2">&quot;Fernando Perez&quot;</span>
git config --global user.email <span class="s2">&quot;Fernando.Perez@berkeley.edu&quot;</span>
</pre></div>
</div>
</div>
<p>And while we&#8217;re at it, we also turn on the use of color, which is very
useful</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
git config --global color.ui <span class="s2">&quot;auto&quot;</span>
</pre></div>
</div>
</div>
<p>Set git to use the credential memory cache so we don&#8217;t have to retype
passwords too frequently.</p>
<p>Github offers in its help pages instructions on how to configure the
credentials helper for <a class="reference external" href="https://help.github.com/articles/caching-your-github-password-in-git/#platform-mac">Mac
OSX</a>,
<a class="reference external" href="https://help.github.com/articles/caching-your-github-password-in-git/#platform-mac">Windows</a>
and
<a class="reference external" href="https://help.github.com/articles/caching-your-github-password-in-git/#platform-linux">Linux</a>.</p>
</div>
<div class="section" id="Stage-1:-Local,-single-user,-linear-workflow">
<h2>Stage 1: Local, single-user, linear workflow<a class="headerlink" href="#Stage-1:-Local,-single-user,-linear-workflow" title="Permalink to this headline">¶</a></h2>
<p>Type <code class="docutils literal"><span class="pre">git</span></code> to see a full list of all the &#8216;core&#8217; commands. We&#8217;ll now go
through most of these via small practical exercises:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="o">!</span>git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
usage: git [--version] [--help] [-C &lt;path&gt;] [-c name=value]
           [--exec-path[=&lt;path&gt;]] [--html-path] [--man-path] [--info-path]
           [-p | --paginate | --no-pager] [--no-replace-objects] [--bare]
           [--git-dir=&lt;path&gt;] [--work-tree=&lt;path&gt;] [--namespace=&lt;name&gt;]
           &lt;command&gt; [&lt;args&gt;]

These are common Git commands used in various situations:

start a working area (see also: git help tutorial)
   clone      Clone a repository into a new directory
   init       Create an empty Git repository or reinitialize an existing one

work on the current change (see also: git help everyday)
   add        Add file contents to the index
   mv         Move or rename a file, a directory, or a symlink
   reset      Reset current HEAD to the specified state
   rm         Remove files from the working tree and from the index

examine the history and state (see also: git help revisions)
   bisect     Use binary search to find the commit that introduced a bug
   grep       Print lines matching a pattern
   log        Show commit logs
   show       Show various types of objects
   status     Show the working tree status

grow, mark and tweak your common history
   branch     List, create, or delete branches
   checkout   Switch branches or restore working tree files
   commit     Record changes to the repository
   diff       Show changes between commits, commit and working tree, etc
   merge      Join two or more development histories together
   rebase     Reapply commits on top of another base tip
   tag        Create, list, delete or verify a tag object signed with GPG

collaborate (see also: git help workflows)
   fetch      Download objects and refs from another repository
   pull       Fetch from and integrate with another repository or a local branch
   push       Update remote refs along with associated objects

&#39;git help -a&#39; and &#39;git help -g&#39; list available subcommands and some
concept guides. See &#39;git help &lt;command&gt;&#39; or &#39;git help &lt;concept&gt;&#39;
to read about a specific subcommand or concept.
</pre></div></div>
</div>
<div class="section" id="git-init:-create-an-empty-repository">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">init</span></code>: create an empty repository<a class="headerlink" href="#git-init:-create-an-empty-repository" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
rm -rf <span class="nb">test</span>
git init <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Initialized empty Git repository in /Users/fperez/teach/berkeley/2017-stat159/stat159/lectures/01-git/test/.git/
</pre></div></div>
</div>
<p><strong>Note:</strong> all these cells below are meant to be run by you in a terminal
where you change <em>once</em> to the <code class="docutils literal"><span class="pre">test</span></code> directory and continue working
there.</p>
<p>Since we are putting all of them here in a single notebook for the
purposes of the tutorial, they will all be prepended with the first two
lines:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">bash</span>
<span class="n">cd</span> <span class="n">test</span>
</pre></div>
</div>
<p>that tell IPython to do that each time. But you should ignore those two
lines and type the rest of each cell yourself in your terminal.</p>
<p>Let&#8217;s look at what git did:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

ls
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

ls -la
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
total 0
drwxr-xr-x  3 fperez  staff  102 Sep  6 23:24 .
drwxr-xr-x  8 fperez  staff  272 Sep  6 23:24 ..
drwxr-xr-x  9 fperez  staff  306 Sep  6 23:24 .git
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

ls -l .git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
total 24
-rw-r--r--   1 fperez  staff   23 Sep  6 23:24 HEAD
-rw-r--r--   1 fperez  staff  137 Sep  6 23:24 config
-rw-r--r--   1 fperez  staff   73 Sep  6 23:24 description
drwxr-xr-x  12 fperez  staff  408 Sep  6 23:24 hooks
drwxr-xr-x   3 fperez  staff  102 Sep  6 23:24 info
drwxr-xr-x   4 fperez  staff  136 Sep  6 23:24 objects
drwxr-xr-x   4 fperez  staff  136 Sep  6 23:24 refs
</pre></div></div>
</div>
<p>Now let&#8217;s edit our first file in the test directory with a text
editor... I&#8217;m doing it programatically here for automation purposes, but
you&#8217;d normally be editing by hand</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

<span class="nb">echo</span> <span class="s2">&quot;My first bit of text&quot;</span> &gt; file1.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="git-add:-tell-git-about-this-new-file">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></code>: tell git about this new file<a class="headerlink" href="#git-add:-tell-git-about-this-new-file" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git add file1.txt
</pre></div>
</div>
</div>
<p>We can now ask git about what happened with <code class="docutils literal"><span class="pre">status</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git status
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
On branch master

No commits yet

Changes to be committed:
  (use &#34;git rm --cached &lt;file&gt;...&#34; to unstage)

        new file:   file1.txt

</pre></div></div>
</div>
</div>
<div class="section" id="git-commit:-permanently-record-our-changes-in-git's-database">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span></code>: permanently record our changes in git&#8217;s database<a class="headerlink" href="#git-commit:-permanently-record-our-changes-in-git's-database" title="Permalink to this headline">¶</a></h3>
<p>For now, we are <em>always</em> going to call <code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span></code> either with the
<code class="docutils literal"><span class="pre">-a</span></code> option <em>or</em> with specific filenames
(<code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">file1</span> <span class="pre">file2...</span></code>). This delays the discussion of an aspect
of git called the <em>index</em> (often referred to also as the &#8216;staging area&#8217;)
that we will cover later. Most everyday work in regular scientific
practice doesn&#8217;t require understanding the extra moving parts that the
index involves, so on a first round we&#8217;ll bypass it. Later on we will
discuss how to use it to achieve more fine-grained control of what and
how git records our actions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git commit -a -m<span class="s2">&quot;This is our first commit&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master (root-commit) 8ce7775] This is our first commit
 1 file changed, 1 insertion(+)
 create mode 100644 file1.txt
</pre></div></div>
</div>
<p>In the commit above, we used the <code class="docutils literal"><span class="pre">-m</span></code> flag to specify a message at the
command line. If we don&#8217;t do that, git will open the editor we specified
in our configuration above and require that we enter a message. By
default, git refuses to record changes that don&#8217;t have a message to go
along with them (though you can obviously &#8216;cheat&#8217; by using an empty or
meaningless string: git only tries to facilitate best practices, it&#8217;s
not your nanny).</p>
</div>
<div class="section" id="git-log:-what-has-been-committed-so-far">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></code>: what has been committed so far<a class="headerlink" href="#git-log:-what-has-been-committed-so-far" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git log
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
commit 8ce7775da6ee3d042f78924aa1904154fd4c92f8
Author: Fernando Perez &lt;Fernando.Perez@berkeley.edu&gt;
Date:   Wed Sep 6 23:24:25 2017 -0700

    This is our first commit
</pre></div></div>
</div>
</div>
<div class="section" id="git-diff:-what-have-I-changed?">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></code>: what have I changed?<a class="headerlink" href="#git-diff:-what-have-I-changed?" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s do a little bit more work... Again, in practice you&#8217;ll be editing
the files by hand, here we do it via shell commands for the sake of
automation (and therefore the reproducibility of this tutorial!)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

<span class="nb">echo</span> <span class="s2">&quot;And now some more text...&quot;</span> &gt;&gt; file1.txt
</pre></div>
</div>
</div>
<p>And now we can ask git what is different:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git diff
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
diff --git a/file1.txt b/file1.txt
index ce645c7..4baa979 100644
--- a/file1.txt
+++ b/file1.txt
@@ -1 +1,2 @@
 My first bit of text
+And now some more text...
</pre></div></div>
</div>
<p>The format of the output above is well explained in detail in <a class="reference external" href="https://stackoverflow.com/questions/2529441/how-to-read-the-output-from-git-diff">this
Stack Overflow
post</a>.
But we can provide a brief summary here:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">diff</span> <span class="o">--</span><span class="n">git</span> <span class="n">a</span><span class="o">/</span><span class="n">file1</span><span class="o">.</span><span class="n">txt</span> <span class="n">b</span><span class="o">/</span><span class="n">file1</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>This tells us which files changed overall, with &#8216;a&#8217; representing the old
path and &#8216;b&#8217; the new one (in this case it&#8217;s the same file, though if a
file had been renamed it would be different).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="n">ce645c7</span><span class="o">..</span><span class="mi">4</span><span class="n">baa979</span> <span class="mi">100644</span>
</pre></div>
</div>
<p>These are hashes of the file at the two stages, needed by git itself for
other operations with the diff output.</p>
<p>The next block shows the actual changes. The first two lines show which
paths are being compared (in this case the same file, <code class="docutils literal"><span class="pre">file1.txt</span></code>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">---</span> <span class="n">a</span><span class="o">/</span><span class="n">file1</span><span class="o">.</span><span class="n">txt</span>
<span class="o">+++</span> <span class="n">b</span><span class="o">/</span><span class="n">file1</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The next line indicates where the changes happened. The format is
<code class="docutils literal"><span class="pre">&#64;&#64;</span> <span class="pre">from-file-range</span> <span class="pre">to-file-range</span> <span class="pre">&#64;&#64;</span></code>, where there&#8217;s one more <code class="docutils literal"><span class="pre">&#64;</span></code>
character than there&#8217;s parents to the file comparison (git can handle
multi-way diff/merges), adn the file range format is
<code class="docutils literal"><span class="pre">-/+&lt;start</span> <span class="pre">line&gt;,&lt;#</span> <span class="pre">of</span> <span class="pre">lines&gt;</span></code>, with <code class="docutils literal"><span class="pre">-</span></code> for the <code class="docutils literal"><span class="pre">from-file</span></code> and
<code class="docutils literal"><span class="pre">+</span></code> for the <code class="docutils literal"><span class="pre">to-file</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">@@</span> <span class="o">-</span><span class="mi">1</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">@@</span>
</pre></div>
</div>
<p>Lines prepended with <code class="docutils literal"><span class="pre">-</span></code> correspond to deletions (none in this case),
and lines with <code class="docutils literal"><span class="pre">+</span></code> to additions. A few lines around
deletions/additions are shown for context:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span> <span class="n">My</span> <span class="n">first</span> <span class="n">bit</span> <span class="n">of</span> <span class="n">text</span>
<span class="o">+</span><span class="n">And</span> <span class="n">now</span> <span class="n">some</span> <span class="n">more</span> <span class="n">text</span><span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="The-cycle-of-git-virtue:-work,-commit,-work,-commit,-...">
<h3>The cycle of git virtue: work, commit, work, commit, ...<a class="headerlink" href="#The-cycle-of-git-virtue:-work,-commit,-work,-commit,-..." title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git commit -a -m<span class="s2">&quot;I have made great progress on this critical matter.&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master f0163df] I have made great progress on this critical matter.
 1 file changed, 1 insertion(+)
</pre></div></div>
</div>
</div>
<div class="section" id="git-log-revisited">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></code> revisited<a class="headerlink" href="#git-log-revisited" title="Permalink to this headline">¶</a></h3>
<p>First, let&#8217;s see what the log shows us now:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git log
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
commit f0163df7db81ece0345dccc6d975dec9d4d7529f
Author: Fernando Perez &lt;Fernando.Perez@berkeley.edu&gt;
Date:   Wed Sep 6 23:24:34 2017 -0700

    I have made great progress on this critical matter.

commit 8ce7775da6ee3d042f78924aa1904154fd4c92f8
Author: Fernando Perez &lt;Fernando.Perez@berkeley.edu&gt;
Date:   Wed Sep 6 23:24:25 2017 -0700

    This is our first commit
</pre></div></div>
</div>
<p>Sometimes it&#8217;s handy to see a very summarized version of the log:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git log --oneline --topo-order --graph
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<p>Git supports <em>aliases:</em> new names given to command combinations. Let&#8217;s
make this handy shortlog an alias, so we only have to type <code class="docutils literal"><span class="pre">git</span> <span class="pre">slog</span></code>
and see this compact log:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

<span class="c1"># We create our alias (this saves it in git&#39;s permanent configuration file):</span>
git config --global alias.slog <span class="s2">&quot;log --oneline --topo-order --graph&quot;</span>

<span class="c1"># And now we can use it</span>
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
</div>
<div class="section" id="git-mv-and-rm:-moving-and-removing-files">
<h3><code class="docutils literal"><span class="pre">git</span> <span class="pre">mv</span></code> and <code class="docutils literal"><span class="pre">rm</span></code>: moving and removing files<a class="headerlink" href="#git-mv-and-rm:-moving-and-removing-files" title="Permalink to this headline">¶</a></h3>
<p>While <code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></code> is used to add fils to the list git tracks, we must
also tell it if we want their names to change or for it to stop tracking
them. In familiar Unix fashion, the <code class="docutils literal"><span class="pre">mv</span></code> and <code class="docutils literal"><span class="pre">rm</span></code> git commands do
precisely this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git mv file1.txt file-newname.txt
git status
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
On branch master
Changes to be committed:
  (use &#34;git reset HEAD &lt;file&gt;...&#34; to unstage)

        renamed:    file1.txt -&gt; file-newname.txt

</pre></div></div>
</div>
<p>Note that these changes must be committed too, to become permanent! In
git&#8217;s world, until something hasn&#8217;t been committed, it isn&#8217;t permanently
recorded anywhere.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git commit -a -m<span class="s2">&quot;I like this new name better&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Let&#39;s look at the log again:&quot;</span>
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master 258b69f] I like this new name better
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename file1.txt =&gt; file-newname.txt (100%)
Let&#39;s look at the log again:
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<p>And <code class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span></code> works in a similar fashion.</p>
</div>
<div class="section" id="Exercise">
<h3>Exercise<a class="headerlink" href="#Exercise" title="Permalink to this headline">¶</a></h3>
<p>Add a new file <code class="docutils literal"><span class="pre">file2.txt</span></code>, commit it, make some changes to it, commit
them again, and then remove it (and don&#8217;t forget to commit this last
step!).</p>
</div>
</div>
<div class="section" id="Local-user,-branching">
<h2>Local user, branching<a class="headerlink" href="#Local-user,-branching" title="Permalink to this headline">¶</a></h2>
<p>What is a branch? Simply a <em>label for the &#8216;current&#8217; commit in a sequence
of ongoing commits</em>:</p>
<div class="figure">
<img alt="" src="../../_images/masterbranch.png" />
</div>
<!-- offline:
<img src="https://raw.github.com/fperez/reprosw/master/fig/masterbranch.png" >
--><p>There can be multiple branches alive at any point in time; the working
directory is the state of a special pointer called HEAD. In this example
there are two branches, <em>master</em> and <em>testing</em>, and <em>testing</em> is the
currently active branch since it&#8217;s what HEAD points to:</p>
<div class="figure">
<img alt="" src="../../_images/HEAD_testing.png" />
</div>
<!-- offline:
<img src="https://raw.github.com/fperez/reprosw/master/fig/HEAD_testing.png" >
--><p>Once new commits are made on a branch, HEAD and the branch label move
with the new commits:</p>
<div class="figure">
<img alt="" src="../../_images/branchcommit.png" />
</div>
<p>This allows the history of both branches to diverge:</p>
<div class="figure">
<img alt="" src="../../_images/mergescenario.png" />
</div>
<p>But based on this graph structure, git can compute the necessary
information to merge the divergent branches back and continue with a
unified line of development:</p>
<div class="figure">
<img alt="" src="../../_images/mergeaftermath.png" />
</div>
<p>Let&#8217;s now illustrate all of this with a concrete example. Let&#8217;s get our
bearings first:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git status
ls
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
On branch master
nothing to commit, working tree clean
file-newname.txt
</pre></div></div>
</div>
<p>We are now going to try two different routes of development: on the
<code class="docutils literal"><span class="pre">master</span></code> branch we will add one file and on the <code class="docutils literal"><span class="pre">experiment</span></code> branch,
which we will create, we will add a different one. We will then merge
the experimental branch into <code class="docutils literal"><span class="pre">master</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git branch experiment
git checkout experiment
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
Switched to branch &#39;experiment&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

<span class="nb">echo</span> <span class="s2">&quot;Some crazy idea&quot;</span> &gt; experiment.txt
git add experiment.txt
git commit -a -m<span class="s2">&quot;Trying something new&quot;</span>
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[experiment e663a7f] Trying something new
 1 file changed, 1 insertion(+)
 create mode 100644 experiment.txt
* e663a7f Trying something new
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [29]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git checkout master
git slog
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
Switched to branch &#39;master&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [30]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

<span class="nb">echo</span> <span class="s2">&quot;All the while, more work goes on in master...&quot;</span> &gt;&gt; file-newname.txt
git commit -a -m<span class="s2">&quot;The mainline keeps moving&quot;</span>
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master 38c854c] The mainline keeps moving
 1 file changed, 1 insertion(+)
* 38c854c The mainline keeps moving
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<p>By default, all variations of the git <code class="docutils literal"><span class="pre">log</span></code> commands only show the
currently active branch. If we want to see <em>all</em> branches, we can ask
for them with the <code class="docutils literal"><span class="pre">--all</span></code> flag:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git slog --all
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
* 38c854c The mainline keeps moving
| * e663a7f Trying something new
|/
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
<p>Above, we can see the commit whose message is <code class="docutils literal"><span class="pre">Try</span> <span class="pre">something</span> <span class="pre">new</span></code>,
that comes from the <code class="docutils literal"><span class="pre">experiment</span></code> branch.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

ls
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
file-newname.txt
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [35]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git merge experiment
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Merge made by the &#39;recursive&#39; strategy.
 experiment.txt | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 experiment.txt
*   83a8fc1 Merge branch &#39;experiment&#39;
|\
| * e663a7f Trying something new
* | 38c854c The mainline keeps moving
|/
* 258b69f I like this new name better
* f0163df I have made great progress on this critical matter.
* 8ce7775 This is our first commit
</pre></div></div>
</div>
</div>
<div class="section" id="Using-remotes-as-a-single-user">
<h2>Using remotes as a single user<a class="headerlink" href="#Using-remotes-as-a-single-user" title="Permalink to this headline">¶</a></h2>
<p>We are now going to introduce the concept of a <em>remote repository</em>: a
pointer to another copy of the repository that lives on a different
location. This can be simply a different path on the filesystem or a
server on the internet.</p>
<p>For this discussion, we&#8217;ll be using remotes hosted on the
<a class="reference external" href="http://github.com">GitHub.com</a> service, but you can equally use
other services like <a class="reference external" href="http://bitbucket.org">BitBucket</a> or
<a class="reference external" href="http://gitorious.org">Gitorious</a> as well as host your own.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [83]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

ls
<span class="nb">echo</span> <span class="s2">&quot;Let&#39;s see if we have any remote repositories here:&quot;</span>
git remote -v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
experiment.txt
file-newname.txt
Let&#39;s see if we have any remote repositories here:
</pre></div></div>
</div>
<p>Since the above cell didn&#8217;t produce any output after the
<code class="docutils literal"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code> call, it means we have no remote repositories
configured. We will now proceed to do so. Once logged into GitHub, go to
the <a class="reference external" href="https://github.com/new">new repository page</a> and make a
repository called <code class="docutils literal"><span class="pre">test</span></code>. Do <strong>not</strong> check the box that says
<code class="docutils literal"><span class="pre">Initialize</span> <span class="pre">this</span> <span class="pre">repository</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">README</span></code>, since we already have an
existing repository here. That option is useful when you&#8217;re starting
first at Github and don&#8217;t have a repo made already on a local computer.</p>
<p>We can now follow the instructions from the next page:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [93]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git remote add origin https://github.com/fperez/test.git
git push -u origin master
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Branch master set up to track remote branch master from origin.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
To https://github.com/fperez/test.git
 * [new branch]      master -&gt; master
</pre></div></div>
</div>
<p>Let&#8217;s see the remote situation again:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [94]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git remote -v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
origin  https://github.com/fperez/test.git (fetch)
origin  https://github.com/fperez/test.git (push)
</pre></div></div>
</div>
<p>We can now <a class="reference external" href="https://github.com/fperez/test">see this repository publicly on
github</a>.</p>
<p>Let&#8217;s see how this can be useful for backup and syncing work between two
different computers. I&#8217;ll simulate a 2nd computer by working in a
different directory...</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [95]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash

<span class="c1"># Here I clone my &#39;test&#39; repo but with a different name, test2, to simulate a 2nd computer</span>
git clone https://github.com/fperez/test.git test2
<span class="nb">cd</span> test2
<span class="nb">pwd</span>
git remote -v
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/Users/fperez/teach/berkeley/2017-stat159/lecture-notes/lectures/git/test2
origin  https://github.com/fperez/test.git (fetch)
origin  https://github.com/fperez/test.git (push)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
Cloning into &#39;test2&#39;...
</pre></div></div>
</div>
<p>Let&#8217;s now make some changes in one &#8216;computer&#8217; and synchronize them on
the second.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [96]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> test2  <span class="c1"># working on computer #2</span>

<span class="nb">echo</span> <span class="s2">&quot;More new content on my experiment&quot;</span> &gt;&gt; experiment.txt
git commit -a -m<span class="s2">&quot;More work, on machine #2&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master 94c7438] More work, on machine #2
 1 file changed, 1 insertion(+)
</pre></div></div>
</div>
<p>Now we put this new work up on the github server so it&#8217;s available from
the internet</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [97]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> test2

git push
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
To https://github.com/fperez/test.git
   27b0ec9..94c7438  master -&gt; master
</pre></div></div>
</div>
<p>Now let&#8217;s fetch that work from machine #1:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [98]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git pull
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Updating 27b0ec9..94c7438
Fast-forward
 experiment.txt | 1 +
 1 file changed, 1 insertion(+)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
From https://github.com/fperez/test
   27b0ec9..94c7438  master     -&gt; origin/master
</pre></div></div>
</div>
<div class="section" id="An-important-aside:-conflict-management">
<h3>An important aside: conflict management<a class="headerlink" href="#An-important-aside:-conflict-management" title="Permalink to this headline">¶</a></h3>
<p>While git is very good at merging, if two different branches modify the
same file in the same location, it simply can&#8217;t decide which change
should prevail. At that point, human intervention is necessary to make
the decision. Git will help you by marking the location in the file that
has a problem, but it&#8217;s up to you to resolve the conflict. Let&#8217;s see how
that works by intentionally creating a conflict.</p>
<p>We start by creating a branch and making a change to our experiment
file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [99]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git branch trouble
git checkout trouble
<span class="nb">echo</span> <span class="s2">&quot;This is going to be a problem...&quot;</span> &gt;&gt; experiment.txt
git commit -a -m<span class="s2">&quot;Changes in the trouble branch&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[trouble c480fb4] Changes in the trouble branch
 1 file changed, 1 insertion(+)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
Switched to branch &#39;trouble&#39;
</pre></div></div>
</div>
<p>And now we go back to the master branch, where we change the <em>same</em>
file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [100]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git checkout master
<span class="nb">echo</span> <span class="s2">&quot;More work on the master branch...&quot;</span> &gt;&gt; experiment.txt
git commit -a -m<span class="s2">&quot;Mainline work&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Your branch is up-to-date with &#39;origin/master&#39;.
[master a8694ad] Mainline work
 1 file changed, 1 insertion(+)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
Switched to branch &#39;master&#39;
</pre></div></div>
</div>
<p>So now let&#8217;s see what happens if we try to merge the <code class="docutils literal"><span class="pre">trouble</span></code> branch
into <code class="docutils literal"><span class="pre">master</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [101]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git merge trouble
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Auto-merging experiment.txt
CONFLICT (content): Merge conflict in experiment.txt
Automatic merge failed; fix conflicts and then commit the result.
</pre></div></div>
</div>
<p>Let&#8217;s see what git has put into our file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [102]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

cat experiment.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Some crazy idea
More new content on my experiment
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
More work on the master branch...
=======
This is going to be a problem...
&gt;&gt;&gt;&gt;&gt;&gt;&gt; trouble
</pre></div></div>
</div>
<p>At this point, we go into the file with a text editor, decide which
changes to keep, and make a new commit that records our decision. I&#8217;ve
now made the edits, in this case I decided that both pieces of text were
useful, but integrated them with some changes:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [103]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

cat experiment.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Some crazy idea
More new content on my experiment
More work on the master branch...
This is going to be a problem...
</pre></div></div>
</div>
<p>Let&#8217;s then make our new commit:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [104]:
</pre></div>
</div>
<div class="input_area highlight-bash"><div class="highlight"><pre>
<span></span>%%bash
<span class="nb">cd</span> <span class="nb">test</span>

git commit -a -m<span class="s2">&quot;Completed merge of trouble, fixing conflicts along the way&quot;</span>
git slog
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[master 28e0c56] Completed merge of trouble, fixing conflicts along the way
*   28e0c56 Completed merge of trouble, fixing conflicts along the way
|\
| * c480fb4 Changes in the trouble branch
* | a8694ad Mainline work
|/
* 94c7438 More work, on machine #2
*   27b0ec9 Merge branch &#39;experiment&#39;
|\
| * 2cba531 Trying something new
* | ff8b2ec The mainline keeps moving
|/
* 005d8e2 I like this new name better
* e819b08 I have made great progress on this critical matter.
* 1f299f3 This is our first commit
</pre></div></div>
</div>
<p><em>Note:</em> While it&#8217;s a good idea to understand the basics of fixing merge
conflicts by hand, in some cases you may find the use of an automated
tool useful. Git supports multiple <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-mergetool.html">merge
tools</a>:
a merge tool is a piece of software that conforms to a basic interface
and knows how to merge two files into a new one. Since these are
typically graphical tools, there are various to choose from for the
different operating systems, and as long as they obey a basic command
structure, git can work with any of them.</p>
</div>
</div>
<div class="section" id="Collaborating-on-github-with-a-small-team">
<h2>Collaborating on github with a small team<a class="headerlink" href="#Collaborating-on-github-with-a-small-team" title="Permalink to this headline">¶</a></h2>
<p>Single remote with shared access: we are going to set up a shared
collaboration with one partner (the person sitting next to you). This
will show the basic workflow of collaborating on a project with a small
team where everyone has write privileges to the same repository.</p>
<p>Note for SVN users: this is similar to the classic SVN workflow, with
the distinction that commit and push are separate steps. SVN, having no
local repository, commits directly to the shared central resource, so to
a first approximation you can think of <code class="docutils literal"><span class="pre">svn</span> <span class="pre">commit</span></code> as being
synonymous with <code class="docutils literal"><span class="pre">git</span> <span class="pre">commit;</span> <span class="pre">git</span> <span class="pre">push</span></code>.</p>
<p>We will have two people, let&#8217;s call them Alice and Bob, sharing a
repository. Alice will be the owner of the repo and she will give Bob
write privileges.</p>
<p>We begin with a simple synchronization example, much like we just did
above, but now between <em>two people</em> instead of one person. Otherwise
it&#8217;s the same:</p>
<ul class="simple">
<li>Bob clones Alice&#8217;s repository.</li>
<li>Bob makes changes to a file and commits them locally.</li>
<li>Bob pushes his changes to github.</li>
<li>Alice pulls Bob&#8217;s changes into her own repository.</li>
</ul>
<p>Next, we will have both parties make non-conflicting changes each, and
commit them locally. Then both try to push their changes:</p>
<ul class="simple">
<li>Alice adds a new file, <code class="docutils literal"><span class="pre">alice.txt</span></code> to the repo and commits.</li>
<li>Bob adds <code class="docutils literal"><span class="pre">bob.txt</span></code> and commits.</li>
<li>Alice pushes to github.</li>
<li>Bob tries to push to github. What happens here?</li>
</ul>
<p>The problem is that Bob&#8217;s changes create a commit that conflicts with
Alice&#8217;s, so git refuses to apply them. It forces Bob to first do the
merge on his machine, so that if there is a conflict in the merge, Bob
deals with the conflict manually (git could try to do the merge on the
server, but in that case if there&#8217;s a conflict, the server repo would be
left in a conflicted state without a human to fix things up). The
solution is for Bob to first pull the changes (pull in git is really
fetch+merge), and then push again.</p>
</div>
<div class="section" id="Full-contact-github:-distributed-collaboration-with-large-teams">
<h2>Full-contact github: distributed collaboration with large teams<a class="headerlink" href="#Full-contact-github:-distributed-collaboration-with-large-teams" title="Permalink to this headline">¶</a></h2>
<p>Multiple remotes and merging based on pull request workflow: this is
beyond the scope of this brief tutorial, so we&#8217;ll simply discuss how it
works very briefly, illustrating it with the activity on the <a class="reference external" href="http://github.com/ipython/ipython">IPython
github repository</a>.</p>
</div>
<div class="section" id="Other-useful-commands">
<h2>Other useful commands<a class="headerlink" href="#Other-useful-commands" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-show.html">show</a></li>
<li><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-reflog.html">reflog</a></li>
<li><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html">rebase</a></li>
<li><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-tag.html">tag</a></li>
</ul>
</div>
<div class="section" id="Git-resources">
<h2>Git resources<a class="headerlink" href="#Git-resources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Introductory-materials">
<h3>Introductory materials<a class="headerlink" href="#Introductory-materials" title="Permalink to this headline">¶</a></h3>
<p>There are lots of good tutorials and introductions for Git, which you
can easily find yourself; this is just a short list of things I&#8217;ve found
useful. For a beginner, I would recommend the following &#8216;core&#8217; reading
list, and below I mention a few extra resources:</p>
<ol class="arabic simple">
<li>The smallest, and in the style of this tuorial: <a class="reference external" href="http://rogerdudler.github.com/git-guide">git - the simple
guide</a> contains &#8216;just the
basics&#8217;. Very quick read.</li>
<li>In my own experience, the most useful resource was <a class="reference external" href="http://www.sbf5.com/~cduan/technical/git">Understanding Git
Conceptually</a>. Git has a
reputation for being hard to use, but I have found that with a clear
view of what is actually a <em>very simple</em> internal design, its
behavior is remarkably consistent, simple and comprehensible.</li>
<li>For more detail, see the start of the excellent <a class="reference external" href="http://book.git-scm.com">Pro Git
book</a>.</li>
<li>You can also <a class="reference external" href="https://try.github.io">try Git in your browser</a>
thanks to GitHub&#8217;s interactive tutorial.</li>
</ol>
<p>If you are really impatient and just want a quick start, this <a class="reference external" href="http://www.ralfebert.de/blog/tools/visual_git_tutorial_1">visual
git
tutorial</a>
may be sufficient. It is nicely illustrated with diagrams that show what
happens on the filesystem.</p>
<p>For windows users, <a class="reference external" href="http://nathanj.github.com/gitguide/tour.html">an Illustrated Guide to Git on
Windows</a> is useful in
that it contains also some information about handling SSH (necessary to
interface with git hosted on remote servers when collaborating) as well
as screenshots of the Windows interface.</p>
<p>Cheat sheets: a useful <a class="reference external" href="https://github.com/nerdgirl/git-cheatsheet-visual/blob/master/gitcheatsheet.pdf">summary of common
commands</a>
in PDF format that can be printed for frequent reference. <a class="reference external" href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">Another nice
PDF
one</a>.</p>
</div>
<div class="section" id="Beyond-the-basics">
<h3>Beyond the basics<a class="headerlink" href="#Beyond-the-basics" title="Permalink to this headline">¶</a></h3>
<p>At some point, it will pay off to understand how git itself is <em>built</em>.
These two documents, written in a similar spirit, are probably the most
useful descriptions of the Git architecture short of diving into the
actual implementation. They walk you through how you would go about
building a version control system with a little story. By the end you
realize that Git&#8217;s model is almost an inevitable outcome of the proposed
constraints:</p>
<ul class="simple">
<li>The <a class="reference external" href="http://tom.preston-werner.com/2009/05/19/the-git-parable.html">Git
parable</a>
by Tom Preston-Werner.</li>
<li><a class="reference external" href="http://matthew-brett.github.com/pydagogue/foundation.html">Git
foundations</a>
by Matthew Brett.</li>
</ul>
<dl class="docutils">
<dt><a class="reference external" href="http://www.gitready.com">Git ready</a></dt>
<dd>A great website of posts on specific git-related topics, organized
by difficulty.</dd>
<dt><a class="reference external" href="http://sourceforge.net/projects/qgit/">QGit</a>: an excellent Git GUI</dt>
<dd>Git ships by default with gitk and git-gui, a pair of Tk graphical
clients to browse a repo and to operate in it. I personally have
found <a class="reference external" href="http://sourceforge.net/projects/qgit/">qgit</a> to be nicer
and easier to use. It is available on modern linux distros, and
since it is based on Qt, it should run on OSX and Windows.</dd>
</dl>
<p><a class="reference external" href="http://www-cs-students.stanford.edu/~blynn/gitmagic/index.html">Git
Magic</a></p>
<blockquote>
<div>Another book-size guide that has useful snippets.</div></blockquote>
<p>A <a class="reference external" href="http://cworth.org/hgbook-git/tour">port</a> of the Hg book&#8217;s
beginning</p>
<blockquote>
<div>The <a class="reference external" href="http://hgbook.red-bean.com">Mercurial book</a> has a reputation
for clarity, so Carl Worth decided to
<a class="reference external" href="http://cworth.org/hgbook-git/tour">port</a> its introductory
chapter to Git. It&#8217;s a nicely written intro, which is possible in
good measure because of how similar the underlying models of Hg and
Git ultimately are.</div></blockquote>
<p>Finally, if you prefer a video presentation, this 1-hour tutorial
prepared by the GitHub educational team will walk you through the entire
process:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [105]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">YouTubeVideo</span>
<span class="n">YouTubeVideo</span><span class="p">(</span><span class="s1">&#39;U8GBXvdmHT4&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[105]:
</pre></div>
</div>
<div class="output_area docutils container">
<iframe
    width="400"
    height="300"
    src="https://www.youtube.com/embed/U8GBXvdmHT4"
    frameborder="0"
    allowfullscreen
></iframe></div>
</div>
</div>
<div class="section" id="A-few-useful-tips-for-common-tasks">
<h3>A few useful tips for common tasks<a class="headerlink" href="#A-few-useful-tips-for-common-tasks" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Better-shell-support">
<h4>Better shell support<a class="headerlink" href="#Better-shell-support" title="Permalink to this headline">¶</a></h4>
<p>Adding git branch info to your bash prompt and tab completion for git
commands and branches is extremely useful. I suggest you at least copy:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/git/git/blob/master/contrib/completion/git-completion.bash">git-completion.bash</a></li>
<li><a class="reference external" href="https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh">git-prompt.sh</a></li>
</ul>
<p>You can then source both of these files in your <code class="docutils literal"><span class="pre">~/.bashrc</span></code> and then
set your prompt (I&#8217;ll assume you named them as the originals but
starting with a <code class="docutils literal"><span class="pre">.</span></code> at the front of the name):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>source $HOME/.git-completion.bash
source $HOME/.git-prompt.sh
PS1=&#39;[\u@\h \W$(__git_ps1 &quot; (%s)&quot;)]\$ &#39;   # adjust this to your prompt liking
</pre></div>
</div>
<p>See the comments in both of those files for lots of extra functionality
they offer.</p>
</div>
<div class="section" id="Embedding-Git-information-in-LaTeX-documents">
<h4>Embedding Git information in LaTeX documents<a class="headerlink" href="#Embedding-Git-information-in-LaTeX-documents" title="Permalink to this headline">¶</a></h4>
<p>(Sent by <a class="reference external" href="http://www.onerussian.com">Yaroslav Halchenko</a>) su I use a
Make rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Helper if interested in providing proper version tag within the manuscript
revision.tex: ../misc/revision.tex.in ../.git/index
   GITID=$$(git log -1 | grep -e &#39;^commit&#39; -e &#39;^Date:&#39; | sed  -e &#39;s/^[^ ]* *//g&#39; | tr &#39;\n&#39; &#39; &#39;); \
   echo $$GITID; \
   sed -e &quot;s/GITID/$$GITID/g&quot; $&lt; &gt;| $@
</pre></div>
</div>
<p>in the top level <code class="docutils literal"><span class="pre">Makefile.common</span></code> which is included in all
subdirectories which actually contain papers (hence all those
<code class="docutils literal"><span class="pre">../.git</span></code>). The <code class="docutils literal"><span class="pre">revision.tex.in</span></code> file is simply:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">Embed</span> <span class="n">GIT</span> <span class="n">ID</span> <span class="n">revision</span> <span class="ow">and</span> <span class="n">date</span>
\<span class="n">def</span>\<span class="n">revision</span><span class="p">{</span><span class="n">GITID</span><span class="p">}</span>
</pre></div>
</div>
<p>The corresponding <code class="docutils literal"><span class="pre">paper.pdf</span></code> depends on <code class="docutils literal"><span class="pre">revision.tex</span></code> and includes
the line <code class="docutils literal"><span class="pre">\input{revision}</span></code> to load up the actual revision mark.</p>
</div>
<div class="section" id="git-export">
<h4>git export<a class="headerlink" href="#git-export" title="Permalink to this headline">¶</a></h4>
<p>Git doesn&#8217;t have a native export command, but this works just fine:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">archive</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=</span><span class="n">fperez</span><span class="o">.</span><span class="n">org</span><span class="o">/</span>  <span class="n">master</span> <span class="o">|</span> <span class="n">gzip</span> <span class="o">&gt;</span> <span class="o">~/</span><span class="n">tmp</span><span class="o">/</span><span class="n">source</span><span class="o">.</span><span class="n">tgz</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Stat 159/259 - Reproducible and Collaborative Data Science</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">An interactive Git Tutorial: the tool you didn&#8217;t know you needed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-ipython/Index.html">A quick overview of the Jupyter Notebook and IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-reading1-discussion.html">Reading discussion - Developing open source scientific practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-reading2-discussion.html">Reading discussion - Scientific Python, IPython, Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-class-practice.html">Class practice: strings, lists &amp; numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-conda-pip-environments.html">Conda and pip - managing environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-reading3-discussion.html">From September 25 reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-reading3-discussion.html#Make:-automating-tasks">Make: automating tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-ligo-make.html">LIGO, the 2017 Nobel prize in physics, and wrapping up Makefiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-intro-numpy/intro-numpy.html">An Introduction to the Scientific Python Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-intro-numpy/intro-numpy.html#Motivation:-the-trapezoidal-rule">Motivation: the trapezoidal rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-intro-numpy/intro-numpy.html#NumPy-arrays:-the-right-data-structure-for-scientific-computing">NumPy arrays: the right data structure for scientific computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-intro-numpy/intro-numpy.html#High-quality-data-visualization-with-Matplotlib">High quality data visualization with Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-intro-numpy/trapezoid.html">The trapezoidal rule: vectorization and perormance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/10-matplotlib_beyond_basics.html">Matplotlib: Beyond the basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/10-matplotlib_live_plots.html">Matplotlib: Live plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/image_tutorial.html">Matplotlib image tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-matplotlib_beyond_basics/image_tutorial.html#Multichannel-images">Multichannel images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11-strings/11-strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11-strings/11-nltk.html">NLTK: Natural Language Made Easy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12-data-intro.html">Data - an introduction to the world of Pandas</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab1.html">Lab 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab2.html">Lab 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab3.html">Lab 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab4.html">Lab 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab5.html">Lab 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab6.html">Lab 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab7.html">Lab 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab8.html">Lab 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab9.html">Lab 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs/lab9_cp.html">Lab 9</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Course resources</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../../index.html" title="previous chapter">Stat 159/259 - Reproducible and Collaborative Data Science</a></li>
      <li>Next: <a href="../02-ipython/Index.html" title="next chapter">A quick overview of the Jupyter Notebook and IPython</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Fernando Perez.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/lectures/01-git/Git-Tutorial.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>